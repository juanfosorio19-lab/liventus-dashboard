<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talently - Encuentra tu Match Profesional</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Sora:wght@400;600;700&display=swap"
        rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#6C5CE7">
    <link rel="apple-touch-icon"
        href="https://ui-avatars.com/api/?name=Talently&background=6c5ce7&color=fff&size=192&rounded=true">

    <style>
        /* CRITICAL FIXES */
        /* 1. App Container Layout */
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        .app-container {
            min-height: 100vh;
            display: block;
            /* Changed from flex to block to match reference */
            margin: 0 auto;
            margin-top: 0 !important;
            padding: 0 !important;
            width: 100%;
            max-width: 480px;
            position: relative;
            /* Force mobile width center */
        }

        /* 2. Hide Slider Thumb (The "Dot") and fix Appearance */
        #yearsExperience {
            -webkit-appearance: none;
            appearance: none;
        }

        #yearsExperience::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 0;
            height: 0;
            opacity: 0;
        }

        #yearsExperience::-moz-range-thumb {
            width: 0;
            height: 0;
            opacity: 0;
            border: none;
        }

        /* 3. Profile Avatar Sizes & Icons */
        .profile-avatar-large {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 12px;
            border: 3px solid var(--primary);
        }

        .profile-name-large {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            text-align: center;
        }

        .profile-title-large {
            font-size: 14px;
            color: var(--text-secondary);
            text-align: center;
        }

        .profile-hero {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 24px 0;
        }

        /* 4. Settings Icons */
        .settings-icon {
            width: 40px;
            height: 40px;
            min-width: 40px;
            /* Prevent shrinking */
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            background: var(--bg);
            margin-right: 12px;
            color: var(--text-primary);
        }

        .settings-icon svg {
            width: 24px;
            height: 24px;
        }

        /* 5. Fix Nested Wrapper Whitespace */
        .main-app {
            min-height: auto !important;
            padding-bottom: 0 !important;
        }

        #mainApp,
        #companyApp {
            padding-bottom: 80px;
            /* Space for bottom nav */
            min-height: 100vh;
            /* Ensure full height when active */
        }

        .chat-input-container {
            position: fixed;
            bottom: 60px;
            /* Above nav bar */
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 480px;
            /* Match app container */
            z-index: 101;
            background: var(--bg);
            border-top: 1px solid var(--border);
            box-sizing: border-box;
            /* Ensure padding doesn't overflow */
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.05);
        }

        .chat-messages {
            padding-bottom: 100px !important;
            /* Make space for limit */
        }

        /* 6. MODAL STYLES */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(2px);
        }

        .modal-overlay.active {
            display: flex;
            animation: fadeIn 0.2s ease-out;
        }

        .modal-content {
            background: var(--surface);
            width: 90%;
            max-width: 400px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            max-height: 90vh;
            /* Ensure it fits on mobile */
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background: var(--surface);
            z-index: 10;
        }

        .modal-header h3 {
            font-size: 18px;
            font-weight: 700;
            margin: 0;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0 4px;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 16px 20px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            position: sticky;
            bottom: 0;
            background: var(--surface);
            z-index: 10;
        }

        .salary-input-group {
            display: flex;
            align-items: center;
            border: 2px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
            transition: border-color 0.2s;
        }

        .salary-input-group:focus-within {
            border-color: var(--primary);
        }

        .salary-input-group .currency-symbol {
            padding-left: 12px;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .salary-input-group input {
            border: none;
            padding-left: 8px;
            box-shadow: none !important;
            /* Override default input focus */
        }

        .currency-select {
            border: none;
            background: var(--bg);
            height: 100%;
            padding: 0 8px;
            border-left: 1px solid var(--border);
            color: var(--text-primary);
            font-weight: 600;
            outline: none;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>
</head>

<body>

    <div class="app-container">
        <!-- ===== WELCOME VIEW ===== -->
        <div id="welcomeView" class="view active">
            <div class="welcome-screen">
                <div class="welcome-background"></div>
                <div class="welcome-content">
                    <h1 class="welcome-logo">Talently</h1>
                    <p class="welcome-tagline">Encuentra tu Match Profesional</p>
                    <p class="welcome-description">
                        Conecta con las mejores oportunidades laborales o encuentra el talento perfecto para tu empresa
                    </p>
                    <div class="welcome-actions">
                        <button class="btn-welcome btn-welcome-primary" onclick="app.showLogin()">
                            Iniciar Sesión
                        </button>
                        <button class="btn-welcome btn-welcome-secondary" onclick="app.showRegister()">
                            Crear Cuenta
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== LOGIN VIEW ===== -->
        <div id="loginView" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showWelcome()">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <h1 class="auth-title">Bienvenido de vuelta</h1>
                    <p class="auth-subtitle">Inicia sesión para continuar</p>

                    <button class="btn-social" onclick="app.loginWithGoogle()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path
                                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                                fill="#4285F4" />
                            <path
                                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                                fill="#34A853" />
                            <path
                                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                                fill="#FBBC05" />
                            <path
                                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                                fill="#EA4335" />
                        </svg>
                        Continuar con Google
                    </button>

                    <div class="divider">o continúa con email</div>

                    <form onsubmit="app.handleLogin(event)">
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="emailInput" placeholder="tu@email.com" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Contraseña</label>
                            <div class="password-input-group">
                                <input type="password" class="form-input" id="loginPassword" placeholder="••••••••"
                                    required>
                                <button type="button" class="toggle-password"
                                    onclick="app.togglePassword('loginPassword')">
                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <button type="submit" class="btn-primary">Iniciar Sesión</button>
                    </form>

                    <div class="auth-footer">
                        ¿No tienes cuenta? <a onclick="app.showRegister()">Regístrate</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== REGISTER VIEW ===== -->
        <div id="registerView" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showWelcome()">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <h1 class="auth-title">Crea tu cuenta</h1>
                    <p class="auth-subtitle">Únete a Talently hoy</p>

                    <button class="btn-social" onclick="app.loginWithGoogle()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path
                                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                                fill="#4285F4" />
                            <path
                                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                                fill="#34A853" />
                            <path
                                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                                fill="#FBBC05" />
                            <path
                                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                                fill="#EA4335" />
                        </svg>
                        Registrarse con Google
                    </button>

                    <div class="divider">o regístrate con email</div>

                    <form id="registerForm" onsubmit="event.preventDefault(); app.handleRegisterClick()">
                        <div class="form-group">
                            <label class="form-label">Nombre completo</label>
                            <input type="text" class="form-input" id="registerName" placeholder="Juan Pérez" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="registerEmail" placeholder="tu@email.com"
                                required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Contraseña</label>
                            <div class="password-input-group">
                                <input type="password" class="form-input" id="registerPassword" placeholder="••••••••"
                                    required minlength="8" oninput="app.validatePassword()">
                                <button type="button" class="toggle-password"
                                    onclick="app.togglePassword('registerPassword')">
                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                    </svg>
                                </button>
                            </div>
                            <div id="passwordRequirements" style="margin-top: 12px; font-size: 13px;">
                                <div id="reqLength"
                                    style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px; color: var(--text-muted); transition: all 0.3s ease;">
                                    <span style="font-size: 16px;">○</span>
                                    <span>Mínimo 8 caracteres</span>
                                </div>
                                <div id="reqUppercase"
                                    style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px; color: var(--text-muted); transition: all 0.3s ease;">
                                    <span style="font-size: 16px;">○</span>
                                    <span>Al menos 1 mayúscula (A-Z)</span>
                                </div>
                                <div id="reqSpecial"
                                    style="display: flex; align-items: center; gap: 8px; color: var(--text-muted); transition: all 0.3s ease;">
                                    <span style="font-size: 16px;">○</span>
                                    <span>Al menos 1 carácter especial (!@#$%&*)</span>
                                </div>
                            </div>
                            <div id="passwordSuccess"
                                style="color: var(--success); font-size: 14px; margin-top: 12px; display: none; font-weight: 600;">
                                ? Contraseña segura
                            </div>
                        </div>

                        <button type="submit" class="btn-primary">Crear
                            Cuenta</button>
                    </form>

                    <div class="auth-footer">
                        ¿Ya tienes cuenta? <a onclick="app.showLogin()">Inicia sesión</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 1: PROFILE TYPE ===== -->
        <div id="onboardingStep1" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.logout()"
                        style="width: auto; padding: 0 10px; font-size: 14px; color: var(--text-secondary); text-decoration: underline;">
                        Cerrar Sesión
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        1</div>
                    <h1 class="auth-title">¿Quién eres?</h1>
                    <p class="auth-subtitle">Selecciona el tipo de perfil que mejor te representa</p>

                    <div style="display: flex; flex-direction: column; gap: 16px; margin-top: 32px;">
                        <label
                            style="padding: 24px; border: 2px solid var(--border); border-radius: 20px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 16px;"
                            class="profile-type-option" onclick="app.selectProfileType('candidate', this)">
                            <input type="radio" name="profileType" value="candidate"
                                style="width: 24px; height: 24px; accent-color: var(--primary);">
                            <div style="flex: 1;">
                                <div style="font-size: 18px; font-weight: 700; margin-bottom: 4px;">Soy Candidato</div>
                                <div style="font-size: 14px; color: var(--text-secondary);">Busco nuevas oportunidades
                                    laborales</div>
                            </div>
                            <div
                                style="width: 48px; height: 48px; border-radius: 12px; background: var(--gradient-primary); display: flex; align-items: center; justify-content: center;">
                                <svg width="24" height="24" fill="none" stroke="white" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                            </div>
                        </label>

                        <label
                            style="padding: 24px; border: 2px solid var(--border); border-radius: 20px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 16px;"
                            class="profile-type-option" onclick="app.selectProfileType('company', this)">
                            <input type="radio" name="profileType" value="company"
                                style="width: 24px; height: 24px; accent-color: var(--primary);">
                            <div style="flex: 1;">
                                <div style="font-size: 18px; font-weight: 700; margin-bottom: 4px;">Soy Empresa</div>
                                <div style="font-size: 14px; color: var(--text-secondary);">Busco talento para mi
                                    organización</div>
                            </div>
                            <div
                                style="width: 48px; height: 48px; border-radius: 12px; background: var(--gradient-primary); display: flex; align-items: center; justify-content: center;">
                                <svg width="24" height="24" fill="none" stroke="white" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                                </svg>
                            </div>
                        </label>
                    </div>

                    <button class="btn-primary" id="continueStep1" onclick="app.continueFromStep1()" disabled
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== COMPANY ONBOARDING STEP 2: BASIC INFO ===== -->
        <div id="companyStep2" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep1')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        2</div>
                    <h1 class="auth-title">Información de la empresa</h1>
                    <p class="auth-subtitle">Datos básicos para identificar tu empresa</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Nombre de la empresa</label>
                            <input type="text" class="form-input" id="companyName" placeholder="Ej: TechCorp" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">RUT / Tax ID (opcional)</label>
                            <input type="text" class="form-input" id="companyTaxId" placeholder="Ej: 76.XXX.XXX-X">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Sitio web</label>
                            <input type="url" class="form-input" id="companyWebsite"
                                placeholder="https://www.tuempresa.com" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">LinkedIn de la empresa (opcional)</label>
                            <input type="url" class="form-input" id="companyLinkedin"
                                placeholder="https://linkedin.com/company/tuempresa">
                        </div>
                    </form>

                    <button class="btn-primary" onclick="app.nextCompanyStep(3)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== COMPANY ONBOARDING STEP 3: SIZE & SECTOR ===== -->
        <div id="companyStep3" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep2')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        3</div>
                    <h1 class="auth-title">Tamaño y sector</h1>
                    <p class="auth-subtitle">Ayúdanos a categorizar tu empresa</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Tamaño de la empresa</label>
                            <select class="form-input" id="companySize" required>
                                <option value="">Selecciona una opción</option>
                                <option value="startup">Startup (1-10 empleados)</option>
                                <option value="pequeña">Pequeña empresa (11-50 empleados)</option>
                                <option value="mediana">Mediana empresa (51-200 empleados)</option>
                                <option value="grande">Gran empresa (201-1000 empleados)</option>
                                <option value="corporacion">Corporación (1000+ empleados)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Sector / Industria</label>
                            <select class="form-input" id="companySector" required>
                                <option value="">Selecciona una opción</option>
                                <option value="tecnologia">Tecnología/Software</option>
                                <option value="fintech">FinTech/Banca</option>
                                <option value="ecommerce">E-commerce/Retail</option>
                                <option value="salud">Salud/Healthcare</option>
                                <option value="educacion">Educación/EdTech</option>
                                <option value="marketing">Marketing/Publicidad</option>
                                <option value="consultoria">Consultoría</option>
                                <option value="manufactura">Manufactura/Producción</option>
                                <option value="logistica">Logística/Supply Chain</option>
                                <option value="energia">Energía/Sustentabilidad</option>
                                <option value="media">Media/Entretenimiento</option>
                                <option value="telecomunicaciones">Telecomunicaciones</option>
                                <option value="biotecnologia">Biotecnología</option>
                                <option value="agroindustria">Agroindustria</option>
                                <option value="turismo">Turismo/Hospitalidad</option>
                                <option value="otro">Otro</option>
                            </select>
                        </div>
                    </form>

                    <button class="btn-primary" onclick="app.nextCompanyStep(4)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== COMPANY ONBOARDING STEP 4: LOCATION ===== -->
        <div id="companyStep4" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep3')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        4</div>
                    <h1 class="auth-title">Ubicación y presencia</h1>
                    <p class="auth-subtitle">¿Dónde está tu empresa?</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">País sede principal</label>
                            <select class="form-input" id="companyCountry" onchange="app.updateCompanyCities()">
                                <option value="">Selecciona un país</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Ciudad sede principal</label>
                            <select class="form-input" id="companyCity" disabled>
                                <option value="">Selecciona un país primero</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">¿Es una empresa 100% remota?</label>
                            <select class="form-input" id="companyFullyRemote" onchange="app.toggleMultipleLocations()">
                                <option value="">Selecciona una opción</option>
                                <option value="si">Sí, somos 100% remotos</option>
                                <option value="no">No, tenemos oficinas físicas</option>
                            </select>
                        </div>

                        <div class="form-group" id="multipleLocationsGroup" style="display: none;">
                            <label class="form-label">¿Tienen oficinas en múltiples ciudades?</label>
                            <select class="form-input" id="companyMultipleLocations">
                                <option value="no">No, solo una ubicación</option>
                                <option value="si">Sí, tenemos varias oficinas</option>
                            </select>
                        </div>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextCompanyStep(5)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextCompanyStep(5)" style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Continue with steps 5-7 -->
        <!-- ===== COMPANY ONBOARDING STEP 5: CULTURE (CRITICAL) ===== -->
        <div id="companyStep5" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep4')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        5</div>
                    <h1 class="auth-title">Cultura de la empresa</h1>
                    <p class="auth-subtitle">Selecciona entre 3 y 8 valores que definan tu cultura</p>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 32px;">
                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="innovacion"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Innovación constante</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="equipo"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Trabajo en equipo</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="autonomia"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Autonomía y confianza</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="diversidad"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Diversidad e inclusión</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="balance"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Balance vida-trabajo</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="crecimiento"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Crecimiento rápido</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="resultados"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Orientación a resultados</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="aprendizaje"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Aprendizaje continuo</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="informal"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Ambiente informal</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="formal"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Ambiente profesional</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="agil"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Decisiones ágiles</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="data-driven"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Data-driven</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="impacto"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Impacto social</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="sustentabilidad"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Sustentabilidad</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="customer"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Customer-centric</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="company-culture-option" onclick="app.toggleCompanyCulture(this)">
                            <input type="checkbox" value="transparencia"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Transparencia</span>
                        </label>
                    </div>

                    <div id="companyCultureCounter"
                        style="text-align: center; margin-top: 16px; font-size: 14px; color: var(--text-secondary);">
                        Seleccionados: <span id="companyCultureCount"
                            style="color: var(--primary); font-weight: 700;">0</span>/8
                    </div>

                    <button class="btn-primary" onclick="app.nextCompanyStep(6)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== COMPANY ONBOARDING STEP 6: COMPANY STAGE ===== -->
        <div id="companyStep6" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep5')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        6</div>
                    <h1 class="auth-title">Etapa de la empresa</h1>
                    <p class="auth-subtitle">¿En qué momento se encuentra tu empresa?</p>

                    <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 32px;">
                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="company-stage-option" onclick="app.selectOption('companyStage', 'pre-seed', this)">
                            <input type="radio" name="companyStage" value="pre-seed"
                                style="width: 18px; height: 18px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 14px;">Pre-seed / Idea stage</span>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="company-stage-option" onclick="app.selectOption('companyStage', 'seed', this)">
                            <input type="radio" name="companyStage" value="seed"
                                style="width: 18px; height: 18px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 14px;">Seed / Recién fundada (0-2 años)</span>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="company-stage-option" onclick="app.selectOption('companyStage', 'early', this)">
                            <input type="radio" name="companyStage" value="early"
                                style="width: 18px; height: 18px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 14px;">Early stage / En crecimiento (2-5
                                años)</span>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="company-stage-option" onclick="app.selectOption('companyStage', 'growth', this)">
                            <input type="radio" name="companyStage" value="growth"
                                style="width: 18px; height: 18px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 14px;">Growth stage / Escalando (5-10 años)</span>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="company-stage-option" onclick="app.selectOption('companyStage', 'mature', this)">
                            <input type="radio" name="companyStage" value="mature"
                                style="width: 18px; height: 18px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 14px;">Mature / Establecida (10+ años)</span>
                        </label>
                    </div>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextCompanyStep(7)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextCompanyStep(7)" style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== COMPANY ONBOARDING STEP 7: WORK MODEL ===== -->
        <div id="companyStep7" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep6')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        7</div>
                    <h1 class="auth-title">Modelo de trabajo</h1>
                    <p class="auth-subtitle">¿Cómo trabaja tu equipo?</p>

                    <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 32px;">
                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="work-model-option" onclick="app.selectOption('workModel', '100-remoto', this)">
                            <input type="radio" name="workModel" value="100-remoto"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">100% Remoto</span>
                            <div
                                style="font-size: 13px; color: var(--text-secondary); margin-left: 32px; margin-top: 4px;">
                                Desde cualquier lugar</div>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="work-model-option" onclick="app.selectOption('workModel', 'remote-first', this)">
                            <input type="radio" name="workModel" value="remote-first"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Remote-first</span>
                            <div
                                style="font-size: 13px; color: var(--text-secondary); margin-left: 32px; margin-top: 4px;">
                                Remoto con oficinas opcionales</div>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="work-model-option" onclick="app.selectOption('workModel', 'hibrido-flexible', this)">
                            <input type="radio" name="workModel" value="hibrido-flexible"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Híbrido flexible</span>
                            <div
                                style="font-size: 13px; color: var(--text-secondary); margin-left: 32px; margin-top: 4px;">
                                El equipo elige sus días</div>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="work-model-option" onclick="app.selectOption('workModel', 'hibrido-fijo', this)">
                            <input type="radio" name="workModel" value="hibrido-fijo"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Híbrido con días fijos</span>
                            <div
                                style="font-size: 13px; color: var(--text-secondary); margin-left: 32px; margin-top: 4px;">
                                Ej: 3 días oficina, 2 casa</div>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="work-model-option" onclick="app.selectOption('workModel', 'presencial', this)">
                            <input type="radio" name="workModel" value="presencial"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">100% Presencial</span>
                            <div
                                style="font-size: 13px; color: var(--text-secondary); margin-left: 32px; margin-top: 4px;">
                                En la oficina</div>
                        </label>
                    </div>

                    <button class="btn-primary" onclick="app.nextCompanyStep(8)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>


        <!-- Settings Modal -->
        <div class="company-modal-overlay" id="settingsModal"
            style="display: none; z-index: 10005; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); align-items: flex-end; justify-content: center;">
            <div class="company-modal"
                style="background: var(--surface); width: 100%; border-radius: 20px 20px 0 0; padding: 24px; box-shadow: 0 -10px 40px rgba(0,0,0,0.2); animation: slideUp 0.3s ease;">
                <div
                    style="width: 40px; height: 4px; background: var(--border); border-radius: 2px; margin: 0 auto 24px auto;">
                </div>
                <h3 style="margin: 0 0 24px 0; font-size: 20px; font-weight: 700; color: var(--text-primary);">
                    Configuración
                </h3>

                <div class="settings-list">
                    <!-- Dark Mode -->
                    <div class="settings-item" onclick="app.toggleDarkMode()">
                        <div class="settings-icon">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                            </svg>
                        </div>
                        <div class="settings-item-content">
                            <div class="settings-item-title">Modo Oscuro</div>
                        </div>
                        <label class="switch" onclick="event.stopPropagation()">
                            <input type="checkbox" id="darkModeToggle" onchange="app.toggleDarkMode()">
                            <span class="slider round"></span>
                        </label>
                    </div>


                    <!-- Logout -->
                    <button type="button" class="settings-item" onclick="app.logout()"
                        style="width: 100%; border: none; background: none; cursor: pointer; text-align: left; padding: 12px; border-radius: 12px; transition: background 0.2s;">
                        <div class="settings-icon" style="background: rgba(255, 107, 157, 0.1);">
                            <svg fill="none" stroke="var(--danger)" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                            </svg>
                        </div>
                        <div class="settings-item-content">
                            <div class="settings-item-title" style="color: var(--danger);">Cerrar Sesión</div>
                        </div>
                    </button>
                </div>

                <button onclick="app.closeSettingsModal()"
                    style="width: 100%; padding: 16px; background: var(--bg); border: none; border-radius: 12px; margin-top: 24px; font-weight: 600; color: var(--text-primary); cursor: pointer;">
                    Cerrar
                </button>
            </div>
        </div>

        <!-- Steps 8-10 continue in next file -->
        <!-- ===== COMPANY ONBOARDING STEP 8: POSITIONS LOOKING FOR (CRITICAL) ===== -->
        <div id="companyStep8" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep7')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        8</div>
                    <h1 class="auth-title">¿Qué perfiles buscas?</h1>
                    <p class="auth-subtitle">Selecciona todas las áreas en las que reclutan (sin límite)</p>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 32px;">
                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="desarrollo"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Desarrollo</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="diseno"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Diseño UX/UI</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="producto"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Product Management</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="marketing"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Marketing</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="ventas"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Ventas</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="data"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Data/Analytics</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="rrhh"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>RRHH</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="finanzas"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Finanzas</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="operaciones"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Operaciones</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="legal"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Legal</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="soporte"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Customer Success</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="devops"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>DevOps</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="qa"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>QA/Testing</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="security"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Security</span>
                        </label>

                        <label
                            style="padding: 14px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                            class="position-option" onclick="app.togglePosition(this)">
                            <input type="checkbox" value="contenido"
                                style="width: 16px; height: 16px; accent-color: var(--primary);">
                            <span>Content/Comunicaciones</span>
                        </label>
                    </div>

                    <div id="positionsCounter"
                        style="text-align: center; margin-top: 16px; font-size: 14px; color: var(--text-secondary);">
                        <span id="positionsCount" style="color: var(--primary); font-weight: 700;">0</span> áreas
                        seleccionadas
                    </div>

                    <button class="btn-primary" onclick="app.nextCompanyStep(9)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== COMPANY ONBOARDING STEP 9: SENIORITY LEVELS ===== -->
        <div id="companyStep9" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep8')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        9</div>
                    <h1 class="auth-title">Niveles de seniority</h1>
                    <p class="auth-subtitle">¿Qué niveles de experiencia están buscando?</p>

                    <div style="display: flex; flex-direction: column; gap: 14px; margin-top: 32px;">
                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;"
                            class="seniority-option" onclick="app.toggleSeniority(this)">
                            <input type="checkbox" value="junior"
                                style="width: 18px; height: 18px; accent-color: var(--primary); margin-right: 14px;">
                            <div>
                                <div style="font-weight: 600; font-size: 15px;">Junior</div>
                                <div style="font-size: 13px; color: var(--text-secondary); margin-top: 2px;">0-2 años de
                                    experiencia</div>
                            </div>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;"
                            class="seniority-option" onclick="app.toggleSeniority(this)">
                            <input type="checkbox" value="semi-senior"
                                style="width: 18px; height: 18px; accent-color: var(--primary); margin-right: 14px;">
                            <div>
                                <div style="font-weight: 600; font-size: 15px;">Semi-Senior</div>
                                <div style="font-size: 13px; color: var(--text-secondary); margin-top: 2px;">2-5 años de
                                    experiencia</div>
                            </div>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;"
                            class="seniority-option" onclick="app.toggleSeniority(this)">
                            <input type="checkbox" value="senior"
                                style="width: 18px; height: 18px; accent-color: var(--primary); margin-right: 14px;">
                            <div>
                                <div style="font-weight: 600; font-size: 15px;">Senior</div>
                                <div style="font-size: 13px; color: var(--text-secondary); margin-top: 2px;">5-10 años
                                    de experiencia</div>
                            </div>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;"
                            class="seniority-option" onclick="app.toggleSeniority(this)">
                            <input type="checkbox" value="lead"
                                style="width: 18px; height: 18px; accent-color: var(--primary); margin-right: 14px;">
                            <div>
                                <div style="font-weight: 600; font-size: 15px;">Lead / Manager</div>
                                <div style="font-size: 13px; color: var(--text-secondary); margin-top: 2px;">10+ años de
                                    experiencia</div>
                            </div>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;"
                            class="seniority-option" onclick="app.toggleSeniority(this)">
                            <input type="checkbox" value="executive"
                                style="width: 18px; height: 18px; accent-color: var(--primary); margin-right: 14px;">
                            <div>
                                <div style="font-weight: 600; font-size: 15px;">Executive / C-Level</div>
                                <div style="font-size: 13px; color: var(--text-secondary); margin-top: 2px;">Nivel
                                    ejecutivo</div>
                            </div>
                        </label>
                    </div>

                    <div id="seniorityCounter"
                        style="text-align: center; margin-top: 16px; font-size: 14px; color: var(--text-secondary); padding-top: 16px; border-top: 1px solid var(--border);">
                        <span id="seniorityCountValue" style="color: var(--primary); font-weight: 700;">0</span>
                        niveles
                        seleccionados
                    </div>

                    <button class="btn-primary" onclick="app.nextCompanyStep(10)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== COMPANY ONBOARDING STEP 10: TECH STACK (CRITICAL) ===== -->
        <div id="companyStep10" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep9')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        10</div>
                    <h1 class="auth-title">Stack tecnológico</h1>
                    <p class="auth-subtitle">Selecciona las tecnologías principales (max 20)</p>

                    <div style="margin-top: 24px;">
                        <div id="companyTechStackBubbleContainer"
                            style="display: flex; flex-wrap: wrap; gap: 8px; min-height: 50px; padding: 12px; border: 2px solid var(--border); border-radius: 12px; margin-bottom: 16px;">
                        </div>

                        <div
                            style="font-size: 13px; font-weight: 600; color: var(--text-secondary); margin-bottom: 12px;">
                            Sugerencias:</div>
                        <div id="companyTechStackSuggestionsContainer"
                            style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <!-- Dynamic suggestions rendered by JS -->
                        </div>
                    </div>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextCompanyStep(11)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextCompanyStep(11)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- ===== COMPANY ONBOARDING STEP 11 DELETED (Salary moved to Offer Creation) ===== -->


        <!-- ===== COMPANY ONBOARDING STEP 12: BENEFITS (VERY IMPORTANT) ===== -->
        <!-- ===== COMPANY ONBOARDING STEP 11: BENEFITS (VERY IMPORTANT) ===== -->
        <div id="companyStep11" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep10')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content" style="max-height: 80vh; overflow-y: auto;">
                    <div
                        style="width: 56px; min-width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px; flex-shrink: 0;">
                        11</div>
                    <h1 class="auth-title">Beneficios que ofrecen</h1>
                    <p class="auth-subtitle">Selecciona todos los que apliquen (sin límite)</p>

                    <div style="margin-top: 32px;">
                        <!-- COMPENSATION CATEGORY -->
                        <div style="margin-bottom: 28px;">
                            <div
                                style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 14px; display: flex; align-items: center; gap: 8px;">
                                <span>💰</span> Compensación
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="bonos-desempeno"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Bonos por desempeño</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="stock-options"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Stock options / Equity</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="bono-bienvenida"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Bono de bienvenida</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="bono-anual"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Bono anual/aguinaldo</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="incrementos"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Incrementos frecuentes</span>
                                </label>
                            </div>
                        </div>

                        <!-- HEALTH CATEGORY -->
                        <div style="margin-bottom: 28px;">
                            <div
                                style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 14px; display: flex; align-items: center; gap: 8px;">
                                <span>🏥</span> Salud y Bienestar
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="seguro-medico"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Seguro médico privado</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="seguro-dental"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Seguro dental</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="seguro-vida"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Seguro de vida</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="salud-mental"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Apoyo salud mental</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="gimnasio"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Gimnasio / Wellness</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="dias-salud"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Días de salud mental</span>
                                </label>
                            </div>
                        </div>

                        <!-- TIME & FLEXIBILITY CATEGORY -->
                        <div style="margin-bottom: 28px;">
                            <div
                                style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 14px; display: flex; align-items: center; gap: 8px;">
                                <span>⏰</span> Tiempo y Flexibilidad
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="vacaciones-extra"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Vacaciones sobre lo legal</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="dia-cumpleanos"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Día libre en cumpleaños</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="flexibilidad"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Flexibilidad horaria</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="viernes-cortos"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Viernes cortos</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="semana-4-dias"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Semana de 4 días</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="unlimited-pto"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Unlimited PTO</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="licencias-parentales"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Licencias parentales extendidas</span>
                                </label>
                            </div>
                        </div>

                        <!-- DEVELOPMENT CATEGORY -->
                        <div style="margin-bottom: 28px;">
                            <div
                                style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 14px; display: flex; align-items: center; gap: 8px;">
                                <span>📚</span> Desarrollo
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="presupuesto-cursos"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Presupuesto para cursos</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="conferencias"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Conferencias pagadas</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="certificaciones"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Certificaciones pagadas</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="mentoring"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Programas de mentoring</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="career-path"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Career path claro</span>
                                </label>
                            </div>
                        </div>

                        <!-- EQUIPMENT CATEGORY -->
                        <div style="margin-bottom: 28px;">
                            <div
                                style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 14px; display: flex; align-items: center; gap: 8px;">
                                <span>🖥️</span> Equipamiento
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="laptop-ultima"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Laptop de última generación</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="setup-home"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Setup para home office</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="upgrade-equipo"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Upgrade de equipo regular</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="software-pagado"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Software y herramientas pagadas</span>
                                </label>
                            </div>
                        </div>

                        <!-- DAY TO DAY CATEGORY -->
                        <div style="margin-bottom: 28px;">
                            <div
                                style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 14px; display: flex; align-items: center; gap: 8px;">
                                <span>🍕</span> Día a día
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="snacks-gratis"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Snacks y bebidas gratis</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="almuerzos"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Almuerzos subsidiados</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="coffee-breakfast"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Coffee & breakfast</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="team-buildings"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Team buildings / Eventos</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="espacios-recreacion"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Espacios de recreación</span>
                                </label>
                            </div>
                        </div>

                        <!-- OTHER CATEGORY -->
                        <div style="margin-bottom: 28px;">
                            <div
                                style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 14px; display: flex; align-items: center; gap: 8px;">
                                <span>🌍</span> Otros
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="remoto-internacional"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Trabajo remoto internacional</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="visa-sponsorship"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Visa sponsorship</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="apoyo-relocacion"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Apoyo para relocación</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="mascotas"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Mascotas en la oficina</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="transporte"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Transporte subsidiado</span>
                                </label>

                                <label
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500;"
                                    class="benefit-option" onclick="app.toggleBenefit(this)">
                                    <input type="checkbox" value="estacionamiento"
                                        style="width: 16px; height: 16px; accent-color: var(--primary);">
                                    <span>Estacionamiento gratuito</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div id="benefitsCounter"
                        style="text-align: center; margin-top: 16px; font-size: 14px; color: var(--text-secondary); padding-top: 16px; border-top: 1px solid var(--border);">
                        <span id="benefitsCount" style="color: var(--primary); font-weight: 700;">0</span>
                        beneficios
                        seleccionados
                    </div>

                    <div style="display: flex; gap: 12px; margin-top: 24px; padding-bottom: 24px;">
                        <button class="btn-secondary" onclick="app.nextCompanyStep(12)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextCompanyStep(12)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>


        <!-- ===== COMPANY ONBOARDING STEP 13: SELECTION PROCESS ===== -->
        <!-- ===== COMPANY ONBOARDING STEP 12: SELECTION PROCESS ===== -->
        <div id="companyStep12" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep11')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; min-width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px; flex-shrink: 0;">
                        12</div>
                    <h1 class="auth-title">Proceso de selección</h1>
                    <p class="auth-subtitle">Ayuda a los candidatos a saber qué esperar</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Número de etapas del proceso</label>
                            <select class="form-input" id="selectionStages">
                                <option value="">Selecciona una opción</option>
                                <option value="1">1 etapa (entrevista directa)</option>
                                <option value="2">2 etapas</option>
                                <option value="3">3 etapas</option>
                                <option value="4">4 etapas</option>
                                <option value="5">5 etapas</option>
                                <option value="6">6+ etapas</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Tiempo estimado del proceso completo</label>
                            <select class="form-input" id="selectionTime">
                                <option value="">Selecciona una opción</option>
                                <option value="menos-1-semana">Menos de 1 semana</option>
                                <option value="1-2-semanas">1-2 semanas</option>
                                <option value="2-4-semanas">2-4 semanas</option>
                                <option value="1-2-meses">1-2 meses</option>
                                <option value="mas-2-meses">Más de 2 meses</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">¿Hacen prueba técnica?</label>
                            <select class="form-input" id="technicalTest">
                                <option value="">Selecciona una opción</option>
                                <option value="si">Sí, siempre</option>
                                <option value="no">No</option>
                                <option value="depende">Depende del rol</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">¿La prueba técnica es pagada?</label>
                            <select class="form-input" id="paidTest">
                                <option value="">Selecciona una opción</option>
                                <option value="si">Sí, siempre pagamos</option>
                                <option value="no">No</option>
                                <option value="a-veces">A veces (depende de la duración)</option>
                            </select>
                        </div>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextCompanyStep(13)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextCompanyStep(13)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- ===== COMPANY ONBOARDING STEP 14: UNIQUE VALUE PROPOSITION (CRITICAL) ===== -->
        <!-- ===== COMPANY ONBOARDING STEP 13: UNIQUE VALUE PROPOSITION ===== -->
        <div id="companyStep13" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep12')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; min-width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px; flex-shrink: 0;">
                        13</div>
                    <h1 class="auth-title">¿Qué hace única a tu empresa?</h1>
                    <p class="auth-subtitle">Cuenta qué pueden esperar los candidatos trabajando contigo</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Propuesta de valor única</label>
                            <textarea class="form-input" id="companyValueProp"
                                placeholder="Ejemplo: Somos una startup en rápido crecimiento con cultura de ownership. Ofrecemos equity a todos, trabajo 100% remoto, y un ambiente donde cada idea cuenta. Nuestro equipo es diverso, colaborativo y siempre está aprendiendo."
                                style="min-height: 150px; resize: vertical; font-family: inherit; line-height: 1.6;"
                                oninput="app.updateCharCount('companyValueProp', 'valueCharCount', 500)"
                                maxlength="500"></textarea>
                            <div
                                style="display: flex; justify-content: space-between; font-size: 13px; margin-top: 6px;">
                                <span style="color: var(--text-secondary);">Recomendado: 100+ caracteres</span>
                                <span id="valueCharCount" style="color: var(--text-secondary);">0 / 500</span>
                            </div>
                        </div>

                        <div
                            style="padding: 16px; background: rgba(108, 92, 231, 0.1); border-left: 4px solid var(--primary); border-radius: 12px; margin-top: 16px;">
                            <div style="font-size: 14px; font-weight: 600; color: var(--primary); margin-bottom: 8px;">
                                💡 Consejos para una buena descripción:
                            </div>
                            <ul
                                style="font-size: 13px; color: var(--text-secondary); line-height: 1.7; margin: 0; padding-left: 20px;">
                                <li>Sé auténtico y específico</li>
                                <li>Menciona lo que te diferencia de otras empresas</li>
                                <li>Habla de la cultura, valores y ambiente</li>
                                <li>Destaca oportunidades de crecimiento</li>
                            </ul>
                        </div>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextCompanyStep(14)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextCompanyStep(14)" style="flex: 1;"
                            id="continueStep14">Continuar</button>
                    </div>
                    <div style="text-align: center; margin-top: 12px; font-size: 13px; color: var(--text-secondary);">
                        💡 Los perfiles con descripción completa reciben 3x más candidatos
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== COMPANY ONBOARDING STEP 15: COMPANY TAGS (CRITICAL FOR MATCHING) ===== -->
        <!-- ===== COMPANY ONBOARDING STEP 14: COMPANY TAGS ===== -->
        <div id="companyStep14" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep13')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; min-width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px; flex-shrink: 0;">
                        14</div>
                    <h1 class="auth-title">Tags de la empresa</h1>
                    <p class="auth-subtitle">Estos tags ayudarán a conectar con candidatos ideales (presiona Enter)
                    </p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Tags (Selecciona los que apliquen)</label>
                            <div class="tag-input-container" id="companyTagsContainer"
                                style="display: flex; flex-wrap: wrap; gap: 8px; padding: 12px; border: 2px solid var(--border); border-radius: 12px; min-height: 100px;">
                                <!-- Tags will be rendered here as removable chips -->
                                <input type="text" id="companyTagInput" placeholder="Añade un tag..."
                                    onkeydown="if(event.key === 'Enter') { event.preventDefault(); app.handleCompanyTagInput(this); }"
                                    style="border: none; outline: none; background: transparent; flex: 1; min-width: 120px; font-size: 14px; padding: 8px;">
                            </div>
                            <div id="companyTagsCounter"
                                style="font-size: 13px; color: var(--text-secondary); margin-top: 6px;">
                                <span id="companyTagsCount" style="color: var(--primary); font-weight: 700;">0</span>/20
                                tags agregados
                            </div>
                        </div>

                        <div style="margin-top: 24px;">
                            <div
                                style="font-size: 14px; font-weight: 700; color: var(--text-primary); margin-bottom: 12px;">
                                💡 Sugerencias para ti:
                            </div>
                            <div id="interestsBubbleSection"></div>
                        </div>

                        <div style="margin-top: 24px;">
                            <div
                                style="font-size: 14px; font-weight: 700; color: var(--text-primary); margin-bottom: 12px;">
                                💡 Sugerencias por categoría:</div>

                            <!-- COMPANY TYPE -->
                            <div style="margin-bottom: 16px;">
                                <div
                                    style="font-size: 13px; font-weight: 600; color: var(--text-secondary); margin-bottom: 8px;">
                                    🏢 Tipo de Empresa</div>
                                <div style="display: flex; flex-wrap: wrap; gap: 6px;" id="companyTypeTags">
                                    <!-- HTML PROBE BUTTON -->
                                    <button class="tag-bubble"
                                        style="padding: 8px 16px; background: var(--surface); color: var(--text-secondary); border: 1px solid var(--border); border-radius: 24px; font-size: 13px; font-weight: 500; cursor: pointer; display: inline-flex; align-items: center;">
                                        🔍 HTML PROBE (CSS CHECK)
                                    </button>
                                </div>
                            </div>



                            <!-- CULTURE -->
                            <div style="margin-bottom: 16px;">
                                <div
                                    style="font-size: 13px; font-weight: 600; color: var(--text-secondary); margin-bottom: 8px;">
                                    💼 Cultura</div>
                                <div style="display: flex; flex-wrap: wrap; gap: 6px;" id="cultureTags"></div>
                            </div>

                            <!-- BUSINESS FOCUS -->
                            <div style="margin-bottom: 16px;">
                                <div
                                    style="font-size: 13px; font-weight: 600; color: var(--text-secondary); margin-bottom: 8px;">
                                    🎯 Foco</div>
                                <div style="display: flex; flex-wrap: wrap; gap: 6px;" id="focusTags"></div>
                            </div>

                            <!-- GROWTH -->
                            <div style="margin-bottom: 16px;">
                                <div
                                    style="font-size: 13px; font-weight: 600; color: var(--text-secondary); margin-bottom: 8px;">
                                    🌱 Crecimiento</div>
                                <div style="display: flex; flex-wrap: wrap; gap: 6px;" id="growthTags"></div>
                            </div>

                            <!-- VALUES -->
                            <div style="margin-bottom: 16px;">
                                <div
                                    style="font-size: 13px; font-weight: 600; color: var(--text-secondary); margin-bottom: 8px;">
                                    🌟 Valores</div>
                                <div style="display: flex; flex-wrap: wrap; gap: 6px;" id="valuesTags"></div>
                            </div>

                            <!-- TECH -->
                            <div style="margin-bottom: 16px;">
                                <div
                                    style="font-size: 13px; font-weight: 600; color: var(--text-secondary); margin-bottom: 8px;">
                                    🛠️ Tech & Metodología</div>
                                <div style="display: flex; flex-wrap: wrap; gap: 6px;" id="techTags"></div>
                            </div>
                        </div>
                    </form>

                    <button class="btn-primary" onclick="app.nextCompanyStep(15)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== COMPANY ONBOARDING STEP 15: LOGO AND PHOTOS ===== -->
        <div id="companyStep15" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('companyStep14')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; min-width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px; flex-shrink: 0;">
                        15</div>
                    <h1 class="auth-title">Logo y fotos</h1>
                    <p class="auth-subtitle">Muestra la imagen de tu empresa</p>

                    <form style="margin-top: 32px;">
                        <!-- LOGO UPLOAD (REQUIRED) -->
                        <div class="form-group">
                            <label class="form-label">Logo de la empresa ⚠️ Obligatorio</label>
                            <div class="file-upload" onclick="document.getElementById('companyLogoInput').click()"
                                style="padding: 32px; border: 2px dashed var(--border); border-radius: 16px; text-align: center; cursor: pointer; transition: all 0.3s ease;">
                                <input type="file" id="companyLogoInput" accept="image/png,image/jpeg,image/svg+xml"
                                    style="display: none;" onchange="app.handleCompanyLogoUpload(event)">
                                <div
                                    style="width: 80px; height: 80px; margin: 0 auto 16px; background: var(--bg); border-radius: 16px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="40" height="40" fill="none" stroke="var(--primary)" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                    </svg>
                                </div>
                                <div
                                    style="font-size: 15px; font-weight: 600; color: var(--text-primary); margin-bottom: 6px;">
                                    Subir logo de la empresa</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">PNG, JPG o SVG, máx. 2MB
                                </div>
                                <p class="about-text"
                                    style="color: var(--text-secondary); line-height: 1.6; font-size: 15px;">
                                    ...
                                </p>
                            </div>
                            <div id="logoPreview"
                                style="display: none; margin-top: 12px; padding: 12px; background: var(--success); color: white; border-radius: 12px; font-size: 14px; font-weight: 600;">
                                ? Logo cargado correctamente
                            </div>
                        </div>

                        <!-- TEAM PHOTOS UPLOAD (OPTIONAL) -->
                        <div class="form-group">
                            <label class="form-label">Fotos del equipo u oficina (hasta 5 fotos)</label>
                            <div class="file-upload" onclick="document.getElementById('companyPhotosInput').click()"
                                style="padding: 28px; border: 2px dashed var(--border); border-radius: 16px; text-align: center; cursor: pointer; transition: all 0.3s ease;">
                                <input type="file" id="companyPhotosInput" accept="image/png,image/jpeg" multiple
                                    style="display: none;" onchange="app.handleCompanyPhotosUpload(event)">
                                <div
                                    style="width: 64px; height: 64px; margin: 0 auto 14px; background: var(--bg); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="32" height="32" fill="none" stroke="var(--primary)" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                    </svg>
                                </div>
                                <div
                                    style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 6px;">
                                    Subir fotos del equipo</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">PNG o JPG, 5MB por foto
                                </div>
                                <div style="font-size: 12px; color: var(--text-secondary); margin-top: 4px;">Muestra
                                    tu
                                    espacio, equipo o eventos</div>
                            </div>
                            <div id="photosPreview"
                                style="display: none; margin-top: 12px; padding: 12px; background: var(--success); color: white; border-radius: 12px; font-size: 14px; font-weight: 600;">
                                <span id="photosCount">0</span> foto(s) cargada(s)
                            </div>
                        </div>

                        <!-- BANNER UPLOAD (OPTIONAL) -->
                        <div class="form-group">
                            <label class="form-label">Banner / Foto de portada (opcional)</label>
                            <div class="file-upload" onclick="document.getElementById('companyBannerInput').click()"
                                style="padding: 28px; border: 2px dashed var(--border); border-radius: 16px; text-align: center; cursor: pointer; transition: all 0.3s ease;">
                                <input type="file" id="companyBannerInput" accept="image/png,image/jpeg"
                                    style="display: none;" onchange="app.handleCompanyBannerUpload(event)">
                                <div
                                    style="width: 64px; height: 64px; margin: 0 auto 14px; background: var(--bg); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="32" height="32" fill="none" stroke="var(--primary)" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
                                    </svg>
                                </div>
                                <div
                                    style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 6px;">
                                    Subir banner</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">PNG o JPG, 5MB</div>
                                <div style="font-size: 12px; color: var(--text-secondary); margin-top: 4px;">
                                    Recomendado: 1200x400px</div>
                            </div>
                            <div id="bannerPreview"
                                style="display: none; margin-top: 12px; padding: 12px; background: var(--success); color: white; border-radius: 12px; font-size: 14px; font-weight: 600;">
                                ? Banner cargado correctamente
                            </div>
                        </div>

                        <div
                            style="padding: 16px; background: rgba(108, 92, 231, 0.1); border-left: 4px solid var(--primary); border-radius: 12px; margin-top: 16px;">
                            <div style="font-size: 14px; font-weight: 600; color: var(--primary); margin-bottom: 6px;">
                                📸 Los perfiles con fotos reciben 5x más candidatos
                            </div>
                            <div style="font-size: 13px; color: var(--text-secondary); line-height: 1.5;">
                                Las fotos ayudan a los candidatos a visualizarse trabajando en tu empresa.
                            </div>
                        </div>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.completeCompanyOnboarding()">Omitir
                            fotos</button>
                        <button class="btn-primary" onclick="app.completeCompanyOnboarding()"
                            style="flex: 1;">Finalizar</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- ===== ONBOARDING STEP 2: PERSONAL DATA ===== -->
        <div id="onboardingStep2" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep1')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        2</div>
                    <h1 class="auth-title">Datos personales</h1>
                    <p class="auth-subtitle">Información básica para tu perfil</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Fecha de nacimiento</label>
                            <input type="date" class="form-input" id="birthDate" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Género</label>
                            <select class="form-input" id="gender" required>
                                <option value="">Selecciona una opción</option>
                                <option value="masculino">Masculino</option>
                                <option value="femenino">Femenino</option>
                                <option value="no-binario">No binario</option>
                                <option value="prefiero-no-decir">Prefiero no decir</option>
                            </select>
                        </div>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextOnboardingStep(3)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextOnboardingStep(3)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 3: SALARY ===== -->
        <!-- ===== ONBOARDING STEP 3: LOCATION ===== -->
        <div id="onboardingStep3" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep2')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        3</div>
                    <h1 class="auth-title">¿Dónde te ubicas?</h1>
                    <p class="auth-subtitle">Tu ubicación nos ayudará a mostrarte oportunidades relevantes</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">País</label>
                            <select class="form-input" id="country" onchange="app.updateCities()">
                                <option value="">Selecciona un país</option>
                                <option value="chile">Chile</option>
                                <option value="argentina">Argentina</option>
                                <option value="colombia">Colombia</option>
                                <option value="mexico">México</option>
                                <option value="peru">Perú</option>
                                <option value="españa">España</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Ciudad</label>
                            <select class="form-input" id="city" disabled>
                                <option value="">Selecciona un país primero</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">¿Estás abierto a relocación?</label>
                            <select class="form-input" id="relocation">
                                <option value="">Selecciona una opción</option>
                                <option value="si">Sí, estoy abierto</option>
                                <option value="no">No, prefiero quedarme</option>
                                <option value="quizas">Dependiendo de la oferta</option>
                            </select>
                        </div>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextOnboardingStep(4)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextOnboardingStep(4)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>



        <!-- ===== ONBOARDING STEP 4: EXPERIENCE LEVEL ===== -->
        <div id="onboardingStep4" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep3')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        4</div>
                    <h1 class="auth-title">Nivel de experiencia</h1>
                    <p class="auth-subtitle">Selecciona el nivel que mejor te describe</p>

                    <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 32px;">
                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="experience-option" onclick="app.selectOption('experience', 'junior', this)">
                            <input type="radio" name="experienceLevel" value="junior"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Junior</span>
                            <span style="color: var(--text-secondary); font-size: 14px; margin-left: 8px;">0-2 años
                                de
                                experiencia</span>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="experience-option" onclick="app.selectOption('experience', 'semi-senior', this)">
                            <input type="radio" name="experienceLevel" value="semi-senior"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Semi-Senior</span>
                            <span style="color: var(--text-secondary); font-size: 14px; margin-left: 8px;">2-5 años
                                de
                                experiencia</span>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="experience-option" onclick="app.selectOption('experience', 'senior', this)">
                            <input type="radio" name="experienceLevel" value="senior"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Senior</span>
                            <span style="color: var(--text-secondary); font-size: 14px; margin-left: 8px;">5-10 años
                                de
                                experiencia</span>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="experience-option" onclick="app.selectOption('experience', 'lead', this)">
                            <input type="radio" name="experienceLevel" value="lead"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Lead / Manager</span>
                            <span style="color: var(--text-secondary); font-size: 14px; margin-left: 8px;">10+ años
                                de
                                experiencia</span>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="experience-option" onclick="app.selectOption('experience', 'executive', this)">
                            <input type="radio" name="experienceLevel" value="executive"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Executive / C-Level</span>
                            <span style="color: var(--text-secondary); font-size: 14px; margin-left: 8px;">Nivel
                                ejecutivo</span>
                        </label>
                    </div>

                    <button class="btn-primary" onclick="app.nextOnboardingStep(5)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 5: CURRENT POSITION ===== -->
        <div id="onboardingStep5" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep4')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        5</div>
                    <h1 class="auth-title">Cargo actual o más reciente</h1>
                    <p class="auth-subtitle">Cuéntanos sobre tu experiencia profesional</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Cargo / Título del puesto</label>
                            <input type="text" class="form-input" id="currentPosition" placeholder="Ej: UX/UI Designer">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Empresa</label>
                            <input type="text" class="form-input" id="currentCompany" placeholder="Ej: TechCorp">
                        </div>

                        <div class="form-group">
                            <label class="form-label">¿Actualmente trabajando aquí?</label>
                            <select class="form-input" id="currentlyWorking">
                                <option value="">Selecciona una opción</option>
                                <option value="si">Sí, trabajo actualmente aquí</option>
                                <option value="no">No, ya no trabajo aquí</option>
                            </select>
                        </div>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextOnboardingStep(6)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextOnboardingStep(6)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 6: YEARS OF EXPERIENCE ===== -->
        <div id="onboardingStep6" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep5')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        6</div>
                    <h1 class="auth-title">Años de experiencia</h1>
                    <p class="auth-subtitle">¿Cuántos años de experiencia profesional tienes en total?</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Años de experiencia: <span id="yearsValue"
                                    style="color: var(--primary); font-weight: 700;">5</span> años</label>
                            <input type="range" min="0" max="20" value="5" class="form-input" id="yearsExperience"
                                oninput="app.updateExperienceSlider(this)"
                                style="width: 100%; height: 8px; border-radius: 5px; background: linear-gradient(to right, var(--primary) 25%, var(--border) 25%); outline: none; -webkit-appearance: none; appearance: none; cursor: pointer;">
                        </div>
                    </form>

                    <button class="btn-primary" onclick="app.nextOnboardingStep(7)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 7: SALARY ===== -->
        <div id="onboardingStep7" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep6')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        7</div>
                    <h1 class="auth-title">Pretensión salarial</h1>
                    <p class="auth-subtitle" style="color: var(--danger); font-weight: 600;">⚠️ Campo obligatorio
                    </p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Salario líquido esperado (mensual)</label>
                            <div style="position: relative;">
                                <span
                                    style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); font-weight: 600; color: var(--text-secondary);">$</span>
                                <input type="text" class="form-input" id="expectedSalary" placeholder="2.800.000"
                                    style="padding-left: 40px;" oninput="app.formatCurrency(this)" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Moneda</label>
                            <select class="form-input" id="currency" required>
                                <option value="clp">CLP - Peso Chileno</option>
                                <option value="usd">USD - Dólar</option>
                                <option value="eur">EUR - Euro</option>
                                <option value="ars">ARS - Peso Argentino</option>
                                <option value="cop">COP - Peso Colombiano</option>
                                <option value="mxn">MXN - Peso Mexicano</option>
                            </select>
                        </div>
                    </form>

                    <button class="btn-primary" onclick="app.nextOnboardingStep(8)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- Continue with steps 8-16 in next message due to length -->
        <!-- ===== ONBOARDING STEP 8: WORK MODALITY ===== -->
        <div id="onboardingStep8" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep7')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        8</div>
                    <h1 class="auth-title">Modalidad de trabajo</h1>
                    <p class="auth-subtitle">¿Cómo prefieres trabajar?</p>

                    <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 32px;">
                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="modality-option" onclick="app.selectOption('modality', 'remoto', this)">
                            <input type="radio" name="workModality" value="remoto"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">100% Remoto</span>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="modality-option" onclick="app.selectOption('modality', 'hibrido', this)">
                            <input type="radio" name="workModality" value="hibrido"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Híbrido</span>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="modality-option" onclick="app.selectOption('modality', 'presencial', this)">
                            <input type="radio" name="workModality" value="presencial"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Presencial</span>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="modality-option" onclick="app.selectOption('modality', 'flexible', this)">
                            <input type="radio" name="workModality" value="flexible"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Flexible (me adapto)</span>
                        </label>
                    </div>

                    <button class="btn-primary" onclick="app.nextOnboardingStep(9)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 9: AVAILABILITY ===== -->
        <div id="onboardingStep9" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep8')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        9</div>
                    <h1 class="auth-title">Disponibilidad</h1>
                    <p class="auth-subtitle">¿Cuándo puedes empezar?</p>

                    <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 32px;">
                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="availability-option" onclick="app.selectOption('availability', 'inmediata', this)">
                            <input type="radio" name="availability" value="inmediata"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">Inmediata</span>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="availability-option" onclick="app.selectOption('availability', '15-dias', this)">
                            <input type="radio" name="availability" value="15-dias"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">En 15 días</span>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="availability-option" onclick="app.selectOption('availability', '1-mes', this)">
                            <input type="radio" name="availability" value="1-mes"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">En 1 mes</span>
                        </label>

                        <label
                            style="padding: 20px; border: 2px solid var(--border); border-radius: 16px; cursor: pointer; transition: all 0.3s ease;"
                            class="availability-option" onclick="app.selectOption('availability', '2-meses', this)">
                            <input type="radio" name="availability" value="2-meses"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600;">En 2+ meses</span>
                        </label>
                    </div>

                    <button class="btn-primary" onclick="app.nextOnboardingStep(10)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 10: PROFESSIONAL AREA ===== -->
        <div id="onboardingStep10" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep9')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        10</div>
                    <h1 class="auth-title">Área profesional</h1>
                    <p class="auth-subtitle">¿En qué área te especializas?</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Selecciona tu área principal</label>
                            <select class="form-input" id="professionalArea">
                                <option value="">Selecciona una opción</option>
                                <option value="desarrollo">Desarrollo / Ingeniería de Software</option>
                                <option value="diseno-ux">Diseño UX/UI</option>
                                <option value="producto">Product Management</option>
                                <option value="marketing">Marketing Digital</option>
                                <option value="ventas">Ventas / Comercial</option>
                                <option value="data">Data Science / Analytics</option>
                                <option value="rrhh">Recursos Humanos</option>
                                <option value="finanzas">Finanzas / Contabilidad</option>
                                <option value="operaciones">Operaciones</option>
                                <option value="legal">Legal</option>
                                <option value="administracion">Administración</option>
                                <option value="soporte">Soporte / Customer Success</option>
                            </select>
                        </div>
                    </form>

                    <button class="btn-primary" onclick="app.nextOnboardingStep(11)"
                        style="margin-top: 32px;">Continuar</button>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 11: TECHNICAL SKILLS ===== -->
        <div id="onboardingStep11" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep10')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        11</div>
                    <h1 class="auth-title">Habilidades técnicas</h1>
                    <p class="auth-subtitle">Agrega tus principales habilidades</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Skills (máximo 10)</label>

                            <div id="skillsSelectedContainer"
                                style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; min-height: 0px;">
                            </div>

                            <div id="skillsBubbleContainer"
                                style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; min-height: 56px;">
                            </div>
                            <div id="skillsCounter"
                                style="font-size: 13px; color: var(--text-secondary); margin-top: 6px;">
                                <span id="skillsCount" style="color: var(--primary); font-weight: 700;">0</span>/10
                                skills
                            </div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-top: 6px;">
                                Sugerencias: JavaScript, Python, React, Node.js, Figma, Photoshop, SQL, AWS, Git,
                                Scrum
                            </div>
                        </div>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextOnboardingStep(12)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextOnboardingStep(12)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 12: LANGUAGES ===== -->
        <div id="onboardingStep12" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep11')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        12</div>
                    <h1 class="auth-title">Idiomas</h1>
                    <p class="auth-subtitle">¿Qué idiomas hablas?</p>

                    <form style="margin-top: 32px;">
                        <div id="languagesContainer">
                            <div class="language-item" style="display: flex; gap: 12px; margin-bottom: 16px;">
                                <select class="form-input" style="flex: 2;">
                                    <option value="">Selecciona idioma</option>
                                    <option value="espanol">Español</option>
                                    <option value="ingles">Inglés</option>
                                    <option value="portugues">Portugués</option>
                                    <option value="frances">Francés</option>
                                    <option value="aleman">Alemán</option>
                                    <option value="italiano">Italiano</option>
                                    <option value="chino">Chino</option>
                                </select>
                                <select class="form-input" style="flex: 1;">
                                    <option value="">Nivel</option>
                                    <option value="basico">Básico</option>
                                    <option value="intermedio">Intermedio</option>
                                    <option value="avanzado">Avanzado</option>
                                    <option value="nativo">Nativo</option>
                                </select>
                            </div>
                        </div>
                        <button type="button" onclick="app.addLanguage()"
                            style="background: var(--bg); color: var(--primary); border: 2px dashed var(--primary); padding: 12px; border-radius: 12px; font-weight: 600; cursor: pointer; width: 100%;">
                            + Agregar otro idioma
                        </button>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextOnboardingStep(13)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextOnboardingStep(13)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 13: EDUCATION ===== -->
        <div id="onboardingStep13" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep12')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        13</div>
                    <h1 class="auth-title">Nivel educativo</h1>
                    <p class="auth-subtitle">¿Cuál es tu máximo nivel de estudios?</p>

                    <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 32px;">
                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="education-option" onclick="app.selectOption('education', 'secundaria', this)">
                            <input type="radio" name="education" value="secundaria"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 15px;">Secundaria</span>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="education-option" onclick="app.selectOption('education', 'tecnico', this)">
                            <input type="radio" name="education" value="tecnico"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 15px;">Técnico / Tecnólogo</span>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="education-option"
                            onclick="app.selectOption('education', 'universitario-incompleto', this)">
                            <input type="radio" name="education" value="universitario-incompleto"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 15px;">Universitario incompleto</span>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="education-option" onclick="app.selectOption('education', 'universitario', this)">
                            <input type="radio" name="education" value="universitario"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 15px;">Universitario completo</span>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="education-option" onclick="app.selectOption('education', 'postgrado', this)">
                            <input type="radio" name="education" value="postgrado"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 15px;">Postgrado / Diplomado</span>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="education-option" onclick="app.selectOption('education', 'maestria', this)">
                            <input type="radio" name="education" value="maestria"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 15px;">Maestría / Magíster</span>
                        </label>

                        <label
                            style="padding: 18px; border: 2px solid var(--border); border-radius: 14px; cursor: pointer; transition: all 0.3s ease;"
                            class="education-option" onclick="app.selectOption('education', 'doctorado', this)">
                            <input type="radio" name="education" value="doctorado"
                                style="width: 20px; height: 20px; accent-color: var(--primary); margin-right: 12px;">
                            <span style="font-weight: 600; font-size: 15px;">Doctorado / PhD</span>
                        </label>
                    </div>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextOnboardingStep(14)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextOnboardingStep(14)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Continue with steps 14-16 which are CRITICAL -->
        <!-- ===== ONBOARDING STEP 14: SOFT SKILLS ===== -->
        <div id="onboardingStep14" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep13')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        14</div>
                    <h1 class="auth-title">Habilidades blandas</h1>
                    <p class="auth-subtitle">Selecciona entre 3 y 6 que te describan mejor</p>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 32px;">
                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="liderazgo"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Liderazgo</span>
                        </label>

                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="trabajo-equipo"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Trabajo en equipo</span>
                        </label>

                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="comunicacion"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Comunicación</span>
                        </label>

                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="resolucion"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Resolución de problemas</span>
                        </label>

                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="creatividad"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Creatividad</span>
                        </label>

                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="adaptabilidad"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Adaptabilidad</span>
                        </label>

                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="gestion-tiempo"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Gestión del tiempo</span>
                        </label>

                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="ie"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Inteligencia emocional</span>
                        </label>

                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="decision"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Toma de decisiones</span>
                        </label>

                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="resultados"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Orientación a resultados</span>
                        </label>

                        <label
                            style="padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 500;"
                            class="soft-skill-option" onclick="app.toggleSoftSkill(this)">
                            <input type="checkbox" value="proactividad"
                                style="width: 18px; height: 18px; accent-color: var(--primary);">
                            <span>Proactividad</span>
                        </label>
                    </div>

                    <div id="softSkillsCounter"
                        style="text-align: center; margin-top: 16px; font-size: 14px; color: var(--text-secondary);">
                        Seleccionadas: <span id="softSkillsCount"
                            style="color: var(--primary); font-weight: 700;">0</span>/6
                    </div>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextOnboardingStep(15)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextOnboardingStep(15)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 15: INTERESTS (CRITICAL FOR MATCHING) ===== -->
        <div id="onboardingStep15" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep14')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        15</div>
                    <h1 class="auth-title">Tus intereses</h1>
                    <p class="auth-subtitle">Agrega industrias, tecnologías y áreas que te interesan (presiona
                        Enter)
                    </p>

                    <form style="margin-top: 32px;" onsubmit="return false;">
                        <div class="form-group">
                            <label class="form-label">Tags de intereses (mínimo 5, máximo 15)</label>
                            <div class="tag-input-container" id="interestsContainer"
                                onclick="document.getElementById('interestInput').focus()"
                                style="display: flex; flex-wrap: wrap; gap: 8px; padding: 12px; border: 2px solid var(--border); border-radius: 12px; min-height: 100px; cursor: text;">
                                <!-- Selected interests render here -->
                                <input type="text" class="tag-input" id="interestInput"
                                    onkeypress="app.addInterest(event)"
                                    style="flex: 1; min-width: 150px; border: none; outline: none; font-size: 15px; background: transparent;">
                            </div>
                            <div id="interestsCounter"
                                style="font-size: 13px; color: var(--text-secondary); margin-top: 6px;">
                                <span id="interestsCount" style="color: var(--primary); font-weight: 700;">0</span>/15
                                intereses agregados
                            </div>
                            <div id="interestsBubbleSection"
                                style="margin-top: 16px; display: flex; flex-direction: column; gap: 16px;">
                                <!-- Dynamic categories render here -->
                            </div>
                        </div>

                        <div style="margin-top: 24px;">
                            <div
                                style="font-size: 14px; font-weight: 700; color: var(--text-primary); margin-bottom: 12px;">
                                💡 Sugerencias populares:</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 8px;" id="suggestedTags">
                                <!-- JavaScript will populate this -->
                            </div>
                        </div>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.nextOnboardingStep(16)">Omitir</button>
                        <button class="btn-primary" onclick="app.nextOnboardingStep(16)"
                            style="flex: 1;">Continuar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== ONBOARDING STEP 16: UPLOADS ===== -->
        <div id="onboardingStep16" class="view">
            <div class="auth-screen">
                <div class="auth-header">
                    <button class="back-btn" onclick="app.showView('onboardingStep15')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="auth-logo">Talently</div>
                </div>

                <div class="auth-content">
                    <div
                        style="width: 56px; height: 56px; border-radius: 50%; background: var(--gradient-primary); color: white; font-size: 24px; font-weight: 700; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                        16</div>
                    <h1 class="auth-title">Últimos detalles</h1>
                    <p class="auth-subtitle">Agrega tu foto de perfil y CV para destacar</p>

                    <form style="margin-top: 32px;">
                        <div class="form-group">
                            <label class="form-label">Foto de perfil</label>
                            <div class="file-upload" onclick="document.getElementById('photoInput').click()"
                                style="padding: 32px; border: 2px dashed var(--border); border-radius: 16px; text-align: center; cursor: pointer; transition: all 0.3s ease;">
                                <input type="file" id="photoInput" accept="image/*" style="display: none;"
                                    onchange="app.handlePhotoUpload(event)">
                                <div
                                    style="width: 64px; height: 64px; margin: 0 auto 16px; background: var(--bg); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    <svg width="32" height="32" fill="none" stroke="var(--primary)" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                </div>
                                <div
                                    style="font-size: 15px; font-weight: 600; color: var(--text-primary); margin-bottom: 6px;">
                                    Subir foto de perfil</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">JPG o PNG, máx. 5MB
                                </div>
                            </div>
                            <div id="photoPreview"
                                style="display: none; margin-top: 12px; padding: 12px; background: var(--success); color: white; border-radius: 12px; font-size: 14px; font-weight: 600;">
                                ? Foto cargada correctamente
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Curriculum Vitae</label>
                            <div class="file-upload" onclick="document.getElementById('cvInput').click()"
                                style="padding: 32px; border: 2px dashed var(--border); border-radius: 16px; text-align: center; cursor: pointer; transition: all 0.3s ease;">
                                <input type="file" id="cvInput" accept=".pdf" style="display: none;"
                                    onchange="app.handleCVUpload(event)">
                                <div
                                    style="width: 64px; height: 64px; margin: 0 auto 16px; background: var(--bg); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    <svg width="32" height="32" fill="none" stroke="var(--primary)" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                                    </svg>
                                </div>
                                <div
                                    style="font-size: 15px; font-weight: 600; color: var(--text-primary); margin-bottom: 6px;">
                                    Subir CV</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">PDF, máx. 10MB</div>
                            </div>
                            <div id="cvPreview"
                                style="display: none; margin-top: 12px; padding: 12px; background: var(--success); color: white; border-radius: 12px; font-size: 14px; font-weight: 600;">
                                ? CV cargado correctamente
                            </div>
                        </div>
                    </form>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn-secondary" onclick="app.completeOnboarding()">Omitir</button>
                        <button class="btn-primary" onclick="app.completeOnboarding()"
                            style="flex: 1;">Finalizar</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- ===== SUCCESS VIEW ===== -->
        <div id="successView" class="view">
            <div class="welcome-screen">
                <div class="welcome-background"></div>
                <div class="welcome-content">
                    <div
                        style="width: 120px; height: 120px; border-radius: 50%; background: rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; margin-bottom: 32px; backdrop-filter: blur(10px);">
                        <svg width="60" height="60" fill="none" stroke="white" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>
                    <h1 class="welcome-logo" style="font-size: 42px; margin-bottom: 16px;">¡Bienvenido!</h1>
                    <p class="welcome-description" style="font-size: 18px; margin-bottom: 48px;">
                        Tu cuenta ha sido creada exitosamente. Comienza a explorar oportunidades ahora.
                    </p>
                    <button class="btn-welcome btn-welcome-primary" onclick="app.enterMainApp()">
                        Comenzar a Explorar
                    </button>
                </div>
            </div>
        </div>

        <!-- ===== MAIN APP ===== -->
        <div class="main-app">
            <div id="mainApp" class="view">
                <!-- Header -->
                <div class="header">
                    <div class="header-content">
                        <div class="logo">Talently</div>
                        <div class="header-actions">
                            <button class="icon-btn" onclick="app.openSettingsModal()">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                            </button>
                            <button class="icon-btn" onclick="app.openFilters()">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                                </svg>
                            </button>
                            <button class="icon-btn" onclick="app.toggleNotifications()">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                                </svg>
                                <span class="badge">3</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- ===== VIEWS CONTAINER (Inside Main App for Relative Positioning) ===== -->

                <!-- NOTIFICATIONS VIEW -->
                <div id="notificationsView"
                    style="position: absolute; bottom: 0; left: 0; width: 100%; height: 95%; background: var(--surface); z-index: 100; transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1); display: flex; flex-direction: column; border-radius: 20px 20px 0 0; box-shadow: 0 -10px 40px rgba(0,0,0,0.1);">
                    <div
                        style="padding: 16px 20px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid var(--border);">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <button onclick="app.closeNotifications()"
                                style="background: none; border: none; padding: 4px; cursor: pointer;">
                                <svg width="24" height="24" display="block" stroke="var(--text-primary)"
                                    viewBox="0 0 24 24" fill="none">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <h2 style="font-size: 18px; font-weight: 700; color: var(--text-primary);">
                                Notificaciones
                            </h2>
                        </div>
                        <button onclick="app.markNotificationsAsRead()"
                            style="font-size: 13px; color: var(--primary); font-weight: 600; background: none; border: none; cursor: pointer;">
                            Marcar leídas
                        </button>
                    </div>
                    <div id="notificationList" style="flex: 1; overflow-y: auto; padding: 0;">
                        <!-- Notifications rendered by JS -->
                        <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                            <p>No tienes nuevas notificaciones</p>
                        </div>
                    </div>
                </div>

                <!-- SETTINGS VIEW -->
                <div id="settingsView"
                    style="position: absolute; bottom: 0; left: 0; width: 100%; height: 95%; background: var(--surface); z-index: 101; transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1); display: flex; flex-direction: column; border-radius: 20px 20px 0 0; box-shadow: 0 -10px 40px rgba(0,0,0,0.1);">
                    <div
                        style="padding: 16px 20px; display: flex; align-items: center; gap: 12px; border-bottom: 1px solid var(--border);">
                        <button onclick="app.closeSettingsModal()"
                            style="background: none; border: none; padding: 4px; cursor: pointer;">
                            <svg width="24" height="24" display="block" stroke="var(--text-primary)" viewBox="0 0 24 24"
                                fill="none">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <h2 style="font-size: 18px; font-weight: 700; color: var(--text-primary);">Configuración
                        </h2>
                    </div>
                    <div style="padding: 20px; overflow-y: auto;">
                        <div style="text-align: center; margin-bottom: 32px;">
                            <div
                                style="width: 80px; height: 80px; border-radius: 50%; background: var(--gradient-primary); margin: 0 auto 16px; display: flex; align-items: center; justify-content: center; font-size: 32px; color: white;">
                                JU</div>
                            <h3
                                style="font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: 4px;">
                                Juan Osorio</h3>
                            <button
                                style="margin-top: 12px; font-size: 13px; color: var(--primary); background: none; border: 1px solid var(--primary); padding: 4px 12px; border-radius: 12px; font-weight: 600;">Editar
                                Perfil</button>
                        </div>
                        <button onclick="app.logout()"
                            style="width: 100%; padding: 16px; background: rgba(255, 71, 87, 0.1); color: var(--danger); font-weight: 600; border: none; border-radius: 12px; font-size: 15px; cursor: pointer;">Cerrar
                            Sesión</button>
                    </div>
                </div>

                <!-- FILTERS VIEW -->
                <div id="filtersView"
                    style="position: absolute; bottom: 0; left: 0; width: 100%; height: 95%; background: var(--surface); z-index: 102; transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1); display: flex; flex-direction: column; border-radius: 20px 20px 0 0; box-shadow: 0 -10px 40px rgba(0,0,0,0.1);">
                    <div
                        style="padding: 16px 20px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid var(--border);">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <button onclick="app.closeFilters()"
                                style="background: none; border: none; padding: 4px; cursor: pointer;">
                                <svg width="24" height="24" display="block" stroke="var(--text-primary)"
                                    viewBox="0 0 24 24" fill="none">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <h2 style="font-size: 18px; font-weight: 700; color: var(--text-primary);">Filtros</h2>
                        </div>
                        <button
                            style="font-size: 13px; color: var(--primary); font-weight: 600; background: none; border: none; cursor: pointer;">
                            Limpiar
                        </button>
                    </div>
                    <div style="padding: 24px; overflow-y: auto;">
                        <div style="margin-bottom: 24px;">
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 16px;">Rango Salarial</h4>
                            <input type="range" style="width: 100%; accent-color: var(--primary);">
                            <div
                                style="display: flex; justify-content: space-between; margin-top: 8px; font-size: 13px; color: var(--text-secondary);">
                                <span>$1k</span><span>$10k+</span>
                            </div>
                        </div>
                        <div style="margin-bottom: 24px;">
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 16px;">Modalidad</h4>
                            <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                <span
                                    style="padding: 8px 16px; background: rgba(108,92,231,0.1); color: var(--primary); border-radius: 20px; font-size: 13px; font-weight: 500;">Remoto</span>
                                <span
                                    style="padding: 8px 16px; border: 1px solid var(--border); border-radius: 20px; font-size: 13px; font-weight: 500;">Híbrido</span>
                                <span
                                    style="padding: 8px 16px; border: 1px solid var(--border); border-radius: 20px; font-size: 13px; font-weight: 500;">Presencial</span>
                            </div>
                        </div>
                        <button onclick="app.closeFilters()"
                            style="width: 100%; padding: 16px; background: var(--gradient-primary); color: white; border: none; border-radius: 12px; font-weight: 700; font-size: 16px; cursor: pointer; box-shadow: 0 4px 15px rgba(108, 92, 231, 0.3);">
                            Aplicar Filtros
                        </button>
                    </div>
                </div>


                <!-- Swipe View (Default) -->
                <div id="swipeSection" class="app-section active">
                    <div class="swipe-container">
                        <div class="card-stack" id="cardStack">
                            <!-- Cards rendered by JS -->
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="action-btn reject" onclick="app.swipeLeft()">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                        <button class="action-btn like" onclick="app.swipeRight()">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Matches View -->
                <div id="matchesSection" class="app-section">
                    <div class="matches-view">
                        <h2 class="section-title">Tus Matches</h2>
                        <p class="section-subtitle">Conexiones mutuas</p>

                        <div class="matches-grid">
                            <!-- Populated by JS -->
                        </div>

                        <h2 class="section-title">Mensajes</h2>
                        <p class="section-subtitle">Conversaciones activas</p>

                        <div>
                            <div id="conversationsList">
                                <!-- Populated by JS -->
                                <div
                                    style="text-align: center; color: var(--text-secondary); padding: 20px; font-size: 14px;">
                                    No tienes mensajes aún
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat View -->
                <div id="chatSection" class="app-section">
                    <div class="chat-view">
                        <div class="chat-header">
                            <button class="back-btn" onclick="app.showAppSection('matchesSection')">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 19l-7-7 7-7" />
                                </svg>
                            </button>
                            <div class="chat-company-info">
                                <img src="https://images.unsplash.com/photo-1599305445671-ac291c95aaa9?w=120&h=120&fit=crop"
                                    class="chat-avatar">
                                <div class="chat-company-details">
                                    <h3 class="chat-company-name">TechCorp</h3>
                                    <span class="chat-company-role">Senior Full Stack Developer</span>
                                    <div class="chat-status-online">? En línea</div>
                                </div>
                            </div>
                        </div>

                        <div class="chat-messages" id="chatMessages">
                            <!-- Populated by JS -->
                        </div>

                        <div class="chat-suggestions" id="chatSuggestions"
                            style="padding: 8px 16px; display: flex; gap: 8px; overflow-x: auto; scrollbar-width: none; background: var(--bg); border-top: 1px solid var(--border); display: none;">
                            <!-- JS populated -->
                        </div>
                        <div class="chat-input-container">
                            <input type="text" class="chat-input" placeholder="Escribe un mensaje..." id="chatInput"
                                onkeypress="if(event.key==='Enter')app.sendMessageWithReceipts()">
                            <button class="send-btn" onclick="app.sendMessageWithReceipts()">
                                <svg viewBox="0 0 24 24">
                                    <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Settings View -->
                <div id="settingsSection" class="app-section">
                    <div class="settings-view" style="padding-bottom: 100px;">
                        <!-- Profile Hero -->
                        <div class="profile-hero">
                            <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=200&h=200&fit=crop"
                                alt="Tu perfil" class="profile-avatar-large">
                            <h2 class="profile-name-large">María González</h2>
                            <p class="profile-title-large">...</p>

                            <!-- Profile Tabs -->
                            <div
                                style="display: flex; gap: 8px; margin-top: 20px; padding: 4px; background: var(--bg); border-radius: 12px;">
                                <button class="profile-tab active" onclick="app.switchProfileTab('cv')" id="tab-cv"
                                    style="flex: 1; padding: 10px; border: none; border-radius: 8px; background: var(--surface); color: var(--text-primary); font-weight: 600; cursor: pointer; transition: all 0.3s;">Mi
                                    CV</button>
                                <button class="profile-tab" onclick="app.switchProfileTab('activity')" id="tab-activity"
                                    style="flex: 1; padding: 10px; border: none; border-radius: 8px; background: transparent; color: var(--text-secondary); font-weight: 600; cursor: pointer; transition: all 0.3s;">Mi
                                    Actividad</button>
                            </div>
                        </div>

                        <!-- Tab Content: CV -->
                        <div id="profile-content-cv">
                            <!-- How Companies See You Button -->
                            <div style="padding: 16px 24px;">
                                <button onclick="app.openPreviewModal()"
                                    style="width: 100%; padding: 16px; background: var(--bg); border: 2px dashed var(--primary); border-radius: 16px; font-size: 15px; font-weight: 600; color: var(--primary); cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; transition: all 0.3s ease;">
                                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                    </svg>
                                    Ver cómo te ven las empresas
                                </button>
                            </div>

                            <!-- Profile Sections -->
                            <div class="profile-section">
                                <div class="profile-section-header">
                                    <div class="profile-section-title">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                        </svg>
                                        Información Personal
                                    </div>
                                    <button class="edit-section-btn">Editar</button>
                                </div>
                                <div class="profile-info-grid">
                                    <div class="profile-info-row">
                                        <span class="profile-info-label">Ubicación</span>
                                        <span class="profile-info-value">...</span>
                                    </div>
                                    <div class="profile-info-row">
                                        <span class="profile-info-label">Disponibilidad</span>
                                        <span class="profile-info-value">...</span>
                                    </div>
                                    <div class="profile-info-row">
                                        <span class="profile-info-label">Modalidad</span>
                                        <span class="profile-info-value">...</span>
                                    </div>
                                    <div class="profile-info-row">
                                        <span class="profile-info-label">Pretensión salarial</span>
                                        <span class="profile-info-value">...</span>
                                    </div>
                                </div>
                            </div>

                            <div class="profile-section">
                                <div class="profile-section-header">
                                    <div class="profile-section-title">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                                        </svg>
                                        Habilidades
                                    </div>
                                    <button class="edit-section-btn">Editar</button>
                                </div>
                                <div class="skills-display">
                                    <span class="skill-badge">Figma</span>
                                    <span class="skill-badge">UX Research</span>
                                    <span class="skill-badge">Prototyping</span>
                                    <span class="skill-badge">Design Systems</span>
                                    <span class="skill-badge">User Testing</span>
                                    <span class="skill-badge">Wireframing</span>
                                </div>
                            </div>

                            <div class="profile-section">
                                <div class="profile-section-header">
                                    <div class="profile-section-title">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                        </svg>
                                        Experiencia
                                    </div>
                                    <button class="edit-section-btn" onclick="app.addExperience()">+ Añadir</button>
                                </div>
                                <div id="experienceList" class="experience-list">
                                    <!-- Rendered by JS -->
                                </div>
                            </div>

                            <div class="profile-section">
                                <div class="profile-section-header">
                                    <div class="profile-section-title">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 14l9-5-9-5-9 5 9 5z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
                                        </svg>
                                        Educación
                                    </div>
                                    <button class="edit-section-btn" onclick="app.addEducation()">+ Añadir</button>
                                </div>
                                <div id="educationList" class="education-list">
                                    <!-- Rendered by JS -->
                                </div>
                            </div>
                        </div>

                        <!-- Tab Content: Activity -->
                        <div id="profile-content-activity" style="display: none;">
                            <!-- Statistics Dashboard -->
                            <div class="profile-section" style="border-bottom: none;">
                                <div class="profile-section-header">
                                    <div class="profile-section-title">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                                        </svg>
                                        Estadísticas
                                    </div>
                                    <span class="stats-period">Últimos 7 días</span>
                                </div>

                                <div class="stats-card" style="border: none; padding: 0;">
                                    <div class="stats-chart">
                                        <div class="chart-bar" style="height: 40%;" data-value="12"></div>
                                        <div class="chart-bar" style="height: 60%;" data-value="18"></div>
                                        <div class="chart-bar" style="height: 80%;" data-value="25"></div>
                                        <div class="chart-bar" style="height: 50%;" data-value="15"></div>
                                        <div class="chart-bar" style="height: 95%;" data-value="30"></div>
                                        <div class="chart-bar" style="height: 85%;" data-value="28"></div>
                                        <div class="chart-bar" style="height: 100%;" data-value="35"></div>
                                    </div>
                                    <div class="chart-labels">
                                        <span class="chart-label">Lun</span>
                                        <span class="chart-label">Mar</span>
                                        <span class="chart-label">Mié</span>
                                        <span class="chart-label">Jue</span>
                                        <span class="chart-label">Vie</span>
                                        <span class="chart-label">Sáb</span>
                                        <span class="chart-label">Dom</span>
                                    </div>
                                </div>

                                <div class="stats-summary">
                                    <div class="summary-item">
                                        <div class="summary-value">163</div>
                                        <div class="summary-label">Vistas totales</div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-value">24</div>
                                        <div class="summary-label">Matches</div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-value">92%</div>
                                        <div class="summary-label">Tasa respuesta</div>
                                    </div>
                                </div>

                                <h4
                                    style="font-size: 14px; font-weight: 700; margin: 24px 0 16px; color: var(--text-primary);">
                                    🏆 Tu Ranking
                                </h4>
                                <div class="ranking-list">
                                    <div class="ranking-item">
                                        <div class="ranking-position gold">1</div>
                                        <div class="ranking-info">
                                            <div class="ranking-title">Tasa de Match</div>
                                            <div class="ranking-subtitle">Top 5% de candidatos</div>
                                        </div>
                                        <div class="ranking-value">68%</div>
                                    </div>
                                    <div class="ranking-item">
                                        <div class="ranking-position silver">2</div>
                                        <div class="ranking-info">
                                            <div class="ranking-title">Tiempo de Respuesta</div>
                                            <div class="ranking-subtitle">Top 10% más rápidos</div>
                                        </div>
                                        <div class="ranking-value">&lt;2h</div>
                                    </div>
                                    <div class="ranking-item">
                                        <div class="ranking-position bronze">3</div>
                                        <div class="ranking-info">
                                            <div class="ranking-title">Perfil Completo</div>
                                            <div class="ranking-subtitle">85% completado</div>
                                        </div>
                                        <div class="ranking-value">85%</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Logout -->
                        <div class="settings-section" style="padding: 24px;">
                            <div class="settings-list">
                                <!-- Dark Mode -->
                                <div class="settings-item" onclick="app.toggleDarkMode()">
                                    <div class="settings-icon">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                                        </svg>
                                    </div>
                                    <div class="settings-item-content">
                                        <div class="settings-item-title">Modo Oscuro</div>
                                    </div>
                                    <label class="switch" onclick="event.stopPropagation()">
                                        <input type="checkbox" id="darkModeToggle" onchange="app.toggleDarkMode()">
                                        <span class="slider round"></span>
                                    </label>
                                </div>

                                <!-- Notifications -->
                                <div class="settings-item">
                                    <div class="settings-icon">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                                        </svg>
                                    </div>
                                    <div class="settings-item-content">
                                        <div class="settings-item-title">Notificaciones</div>
                                        <div class="settings-item-subtitle" style="color: var(--success);">Activado
                                        </div>
                                    </div>
                                </div>


                                <!-- Logout -->
                                <button type="button" class="settings-item" onclick="app.logout()"
                                    style="width: 100%; border: none; background: white; cursor: pointer; text-align: left; padding: 16px; border-radius: 16px; transition: background 0.2s; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border: 1px solid var(--border); display: flex; align-items: center; gap: 12px;">
                                    <div class="settings-icon" style="background: rgba(255, 107, 157, 0.1);">
                                        <svg fill="none" stroke="var(--danger)" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                                        </svg>
                                    </div>
                                    <div class="settings-item-content">
                                        <div class="settings-item-title" style="color: var(--danger);">Cerrar Sesión
                                        </div>
                                    </div>
                                </button>

                                <!-- DEBUG: Test Connection -->
                                <button type="button" class="settings-item" onclick="app.testConnection()"
                                    style="width: 100%; border: none; background: white; cursor: pointer; text-align: left; padding: 16px; border-radius: 16px; transition: background 0.2s; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border: 1px solid var(--border); display: flex; align-items: center; gap: 12px; margin-top: 12px;">
                                    <div class="settings-icon" style="background: rgba(255, 193, 7, 0.1);">
                                        <svg fill="none" stroke="var(--warning)" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M13 10V3L4 14h7v7l9-11h-7z" />
                                        </svg>
                                    </div>
                                    <div class="settings-item-content">
                                        <div class="settings-item-title" style="color: var(--warning);">Probar Conexión
                                        </div>
                                        <div class="settings-item-subtitle">Verificar Supabase</div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bottom Navigation -->
                <div class="bottom-nav">
                    <div class="nav-item active" onclick="app.showAppSection('swipeSection')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                        </svg>
                        <span class="nav-label">Descubrir</span>
                    </div>

                    <div class="nav-item" onclick="app.showAppSection('matchesSection')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                        </svg>
                        <span class="nav-label">Matches</span>
                    </div>

                    <div class="nav-item" onclick="app.showAppSection('settingsSection')">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                        <span class="nav-label">Perfil</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== COMPANY APP ===== -->
        <div id="companyApp" class="view" style="background: var(--bg);">

            <header class="app-header"
                style="padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border);">
                <div class="logo" onclick="app.openCompanyProfile()"
                    style="font-family: 'Sora', sans-serif; font-weight: 700; color: var(--primary); font-size: 20px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                    <img id="headerCompanyLogo"
                        src="https://ui-avatars.com/api/?name=Talently+Business&background=6c5ce7&color=fff"
                        style="width: 24px; height: 24px; border-radius: 6px;">
                    <span id="headerCompanyName">Talently Business</span>
                </div>
                <button type="button" onclick="app.logout()"
                    style="background:none; border:none; color: var(--danger); cursor: pointer;">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width:24px; height:24px;">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                    </svg>
                </button>
            </header>

            <main class="app-content" style="flex: 1; overflow-y: auto; position: relative;">

                <!-- OFFERS SECTION -->
                <div id="companyOffersSection" class="company-section active" style="padding: 24px;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <h2 style="font-size: 24px; font-weight: 700; color: var(--text-primary);">Mis Ofertas</h2>
                        <button class="btn-primary" onclick="app.createOffer()"
                            style="padding: 8px 16px; font-size: 14px; width: auto;">+ Crear</button>
                    </div>
                    <div id="companyOffersList" style="display: flex; flex-direction: column; gap: 16px;">
                        <!-- JS Rendered -->
                        <div style="text-align: center; color: var(--text-secondary); padding: 40px;">No tienes
                            ofertas
                            activas.</div>
                    </div>
                </div>

                <!-- SWIPE DISCOVERY SECTION (Previously Search) -->
                <div id="companySearchSection" class="company-section"
                    style="display: none; height: calc(100vh - 80px); flex-direction: column;">
                    <div style="padding: 16px 24px; flex-shrink: 0;">
                        <h2 style="font-size: 24px; font-weight: 700; color: var(--text-primary); margin-bottom: 8px;">
                            Explorar Talentos</h2>
                        <p style="color: var(--text-secondary); font-size: 14px;">Desliza para conectar con
                            candidatos
                            ideales</p>
                    </div>


                    <div id="candidateSwipeDeck"
                        style="flex: 1; position: relative; margin: 0 24px 24px; display: flex; justify-content: center; align-items: center;">
                        <!-- Cards will be injected here -->
                        <div id="noMoreCandidates" style="text-align: center; display: none;">
                            <div style="font-size: 48px; margin-bottom: 16px;">🎉</div>
                            <h3 style="margin-bottom: 8px; color: var(--text-primary);">¡Estás al día!</h3>
                            <p style="color: var(--text-secondary);">Vuelve más tarde para ver nuevos perfiles.</p>
                            <button class="btn-secondary" onclick="app.resetCandidateSwipe()"
                                style="margin-top: 16px;">Volver a empezar</button>
                        </div>

                        <!-- Controls OVERLAY -->
                        <div id="swipeControls"
                            style="position: absolute; bottom: 20px; left: 0; width: 100%; display: flex; justify-content: center; gap: 40px; z-index: 100; pointer-events: none;">
                            <button onclick="app.handleSwipe('left')"
                                style="width: 64px; height: 64px; border-radius: 50%; background: white; border: 1px solid var(--border); color: var(--danger); font-size: 24px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.2); cursor: pointer; transition: transform 0.2s; pointer-events: auto;">
                                ✕
                            </button>
                            <button onclick="app.handleSwipe('right')"
                                style="width: 64px; height: 64px; border-radius: 50%; background: white; border: 1px solid var(--border); color: var(--success); font-size: 24px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.2); cursor: pointer; transition: transform 0.2s; pointer-events: auto;">
                                ♥
                            </button>
                        </div>
                    </div>
                </div>

                <!-- MESSAGES SECTION -->
                <!-- MESSAGES SECTION -->
                <div id="companyMessagesSection" class="company-section"
                    style="display: none; height: calc(100vh - 80px); flex-direction: column;">

                    <!-- 1. CONVERSATIONS LIST -->
                    <div id="messagesListView" style="height: 100%; display: flex; flex-direction: column;">
                        <div style="padding: 24px;">
                            <h2
                                style="font-size: 24px; font-weight: 700; color: var(--text-primary); margin-bottom: 8px;">
                                Mensajes</h2>
                            <p style="color: var(--text-secondary); font-size: 14px;">Gestiona tus conversaciones
                                con
                                los candidatos</p>
                        </div>
                        <div id="companyConversationList" style="flex: 1; overflow-y: auto; padding: 0 16px;">
                            <!-- JS Rendered Items will go here -->
                        </div>
                    </div>

                    <!-- CHAT DETAIL VIEW -->
                    <!-- CHAT DETAIL VIEW -->
                    <div id="messagesChatView"
                        style="display: none; height: 100%; flex-direction: column; background: var(--bg); padding-bottom: 70px;">
                        <!-- Chat Header -->
                        <div
                            style="padding: 12px 16px; background: var(--surface); border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                            <button onclick="app.backToConversationsList()"
                                style="background: none; border: none; font-size: 24px; color: var(--text-primary); cursor: pointer; padding: 4px;">←</button>
                            <div style="display: flex; align-items: center; gap: 12px; flex: 1;">
                                <img id="companyChatAvatar" src=""
                                    style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover;">
                                <div>
                                    <h3 id="companyChatName"
                                        style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin: 0;">
                                    </h3>
                                    <span
                                        style="font-size: 12px; color: var(--success); display: flex; align-items: center; gap: 4px;">●
                                        En línea</span>
                                </div>
                            </div>
                        </div>

                        <!-- Chat Messages Container -->
                        <div id="companyChatMessages"
                            style="flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 16px;">
                            <!-- Messages injected here -->
                        </div>

                        <!-- Chat Input Area -->
                        <div
                            style="padding: 12px 16px; background: var(--surface); border-top: 1px solid var(--border); display: flex; gap: 12px; align-items: center; flex-shrink: 0;">
                            <button onclick="document.getElementById('fileInput').click()"
                                style="background: none; border: none; font-size: 20px; color: var(--text-secondary); cursor: pointer;">📎</button>
                            <input type="text" id="companyChatInput" placeholder="Escribe un mensaje..."
                                onkeyup="if(event.key === 'Enter') app.sendMessage()"
                                style="flex: 1; padding: 12px 16px; border: 1px solid var(--border); border-radius: 24px; outline: none; font-size: 14px; background: #f8f9fa;">
                            <button onclick="app.sendMessage()"
                                style="background: var(--primary); color: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(108, 92, 231, 0.3);">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                </svg>
                            </button>
                        </div>
                    </div>

                </div>

            </main>

            <div class="bottom-nav">
                <div class="nav-item active" onclick="app.showCompanySection('companyOffersSection')">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    <span class="nav-label">Ofertas</span>
                </div>
                <div class="nav-item" onclick="app.showCompanySection('companySearchSection')">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <span class="nav-label">Explorar</span>
                </div>
                <div class="nav-item" onclick="app.showCompanySection('companyMessagesSection')">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                    </svg>
                    <span class="nav-label">Mensajes</span>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Filters Modal -->
    <div class="filters-overlay" id="filtersOverlay" onclick="app.closeFilters()"
        style="display: none !important; z-index: 9999;"></div>
    <div class="filters-modal" id="filtersModal" style="display: none !important; z-index: 9999;">
        <div class="filters-header">
            <h2 class="filters-title">Filtros</h2>
            <button class="back-btn" onclick="app.closeFilters()">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>

        <!-- Active Filters -->
        <div class="active-filters" id="activeFilters" style="display: none;">
            <!-- Populated by JS -->
        </div>

        <!-- Filter Tabs -->
        <div class="filters-tabs">
            <button class="filter-tab active" onclick="app.showFilterTab('sector')">Sector</button>
            <button class="filter-tab" onclick="app.showFilterTab('modalidad')">Modalidad</button>
            <button class="filter-tab" onclick="app.showFilterTab('salario')">Salario</button>
            <button class="filter-tab" onclick="app.showFilterTab('ubicacion')">Ubicación</button>
            <button class="filter-tab" onclick="app.showFilterTab('tamaño')">Tamaño</button>
            <button class="filter-tab" onclick="app.showFilterTab('techStack')">Tech Stack</button>
        </div>

        <div class="filters-content">
            <!-- Sector Filter -->
            <div class="filter-section" id="filter-sector">
                <div class="filter-section-header">
                    <div class="filter-section-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                        </svg>
                    </div>
                    <h3 class="filter-section-title">Sector / Industria</h3>
                </div>
                <div class="filter-chips">
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'sector', 'Tech')">Tecnología</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'sector', 'FinTech')">FinTech</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'sector', 'SaaS')">SaaS</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'sector', 'E-commerce')">E-commerce</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'sector', 'HealthTech')">HealthTech</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'sector', 'EdTech')">EdTech</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'sector', 'CleanTech')">CleanTech</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'sector', 'Data')">Data &
                        Analytics</button>
                </div>
            </div>

            <!-- Modalidad Filter -->
            <div class="filter-section" id="filter-modalidad" style="display: none;">
                <div class="filter-section-header">
                    <div class="filter-section-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                        </svg>
                    </div>
                    <h3 class="filter-section-title">Modalidad de Trabajo</h3>
                </div>
                <div class="filter-chips">
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'modalidad', 'Remoto')">100%
                        Remoto</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'modalidad', 'Híbrido')">Híbrido</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'modalidad', 'Presencial')">Presencial</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'modalidad', 'Remote-first')">Remote-first</button>
                </div>
            </div>

            <!-- Salario Filter -->
            <div class="filter-section" id="filter-salario" style="display: none;">
                <div class="filter-section-header">
                    <div class="filter-section-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>


                    <h3 class="filter-section-title">Rango Salarial</h3>
                </div>
                <div class="filter-chips">
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'salario', '1-2M')">$1M -
                        $2M</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'salario', '2-3M')">$2M -
                        $3M</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'salario', '3-4M')">$3M -
                        $4M</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'salario', '4M+')">$4M+</button>
                </div>
            </div>

            <!-- Ubicación Filter -->
            <div class="filter-section" id="filter-ubicacion" style="display: none;">
                <div class="filter-section-header">
                    <div class="filter-section-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                    </div>
                    <h3 class="filter-section-title">Ubicación</h3>
                </div>
                <div class="filter-chips">
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'ubicacion', 'Santiago')">Santiago</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'ubicacion', 'Chile')">Chile</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'ubicacion', 'LATAM')">LATAM</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'ubicacion', 'Global')">Global /
                        Anywhere</button>
                </div>
            </div>

            <!-- Tamaño Filter -->
            <div class="filter-section" id="filter-tamaño" style="display: none;">
                <div class="filter-section-header">
                    <div class="filter-section-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                        </svg>
                    </div>
                    <h3 class="filter-section-title">Tamaño de Empresa</h3>
                </div>
                <div class="filter-chips">
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'tamaño', 'Startup')">Startup
                        (1-10)</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'tamaño', 'Pequeña')">Pequeña
                        (11-50)</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'tamaño', 'Mediana')">Mediana
                        (51-200)</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'tamaño', 'Grande')">Grande
                        (200+)</button>
                </div>
            </div>

            <!-- Tech Stack Filter -->
            <div class="filter-section" id="filter-techStack" style="display: none;">
                <div class="filter-section-header">
                    <div class="filter-section-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                        </svg>
                    </div>
                    <h3 class="filter-section-title">Tech Stack</h3>
                </div>
                <div class="filter-chips">
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'techStack', 'React')">React</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'techStack', 'Node.js')">Node.js</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'techStack', 'Python')">Python</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'techStack', 'Java')">Java</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'techStack', 'AWS')">AWS</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'techStack', 'SQL')">SQL</button>
                    <button class="filter-chip"
                        onclick="app.toggleFilterChip(this, 'techStack', 'TypeScript')">TypeScript</button>
                    <button class="filter-chip" onclick="app.toggleFilterChip(this, 'techStack', 'Go')">Go</button>
                </div>
            </div>
        </div>

        <div class="filters-footer">
            <button class="btn-secondary" onclick="app.clearFilters()">Limpiar</button>
            <button class="btn-primary" onclick="app.applyFilters()">Aplicar Filtros</button>
        </div>
    </div>

    <!-- Company Detail Modal -->
    <div class="company-modal-overlay" id="companyModalOverlay" onclick="app.closeCompanyModal(event)"
        style="display: none !important; z-index: 10001;">
        <div class="company-modal" id="companyModal" onclick="event.stopPropagation()">
            <div class="company-modal-header">
                <h3 style="font-family: 'Sora', sans-serif; font-size: 18px;">Detalles de la Empresa</h3>
                <button class="company-modal-close" onclick="app.closeCompanyModal()">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="company-modal-body" id="companyModalBody">
                <!-- Content populated by JS -->
            </div>
        </div>
    </div>

    <!-- Preview Modal (How Companies See You) -->
    <div class="preview-modal-overlay" id="previewModalOverlay" onclick="app.closePreviewModal()"
        style="display: none !important; z-index: 10000;">
        <div class="preview-modal" onclick="event.stopPropagation()">
            <div class="preview-header">
                <span class="preview-title">?? Así te ven las empresas</span>
            </div>
            <div class="preview-card">
                <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=200&h=200&fit=crop"
                    alt="Tu perfil" class="preview-avatar">
                <h3 class="preview-name">María González</h3>
                <p class="preview-role">Senior UX/UI Designer</p>

                <div style="margin: 20px 0;">
                    <div class="completeness-bar">
                        <div class="completeness-fill" style="width: 85%;"></div>
                    </div>
                    <p class="completeness-label">Perfil 85% completo</p>
                </div>

                <div style="display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-bottom: 20px;">
                    <span class="skill-badge">Figma</span>
                    <span class="skill-badge">UX Research</span>
                    <span class="skill-badge">Prototyping</span>
                    <span class="skill-badge">+5 más</span>
                </div>

                <div class="detail-grid" style="text-align: left;">
                    <div class="detail-item">
                        <div class="detail-label">Experiencia</div>
                        <div class="detail-value">5+ años</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Disponibilidad</div>
                        <div class="detail-value">Inmediata</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Modalidad</div>
                        <div class="detail-value">Remoto</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Pretensión</div>
                        <div class="detail-value">$3.5M CLP</div>
                    </div>
                </div>
            </div>
            <button class="preview-close-btn" onclick="app.closePreviewModal()">Cerrar Vista Previa</button>
        </div>
    </div>
    </div>
    <!-- ===== INLINE STYLES FOR UX ENHANCEMENTS ===== -->
    <style>
        .input-error {
            border-color: var(--danger) !important;
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1) !important;
        }

        .skills-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2100;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 24px;
        }

        .skills-modal-content {
            background: var(--surface);
            width: 100%;
            max-width: 400px;
            border-radius: 24px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .skill-tag {
            padding: 8px 16px;
            border-radius: 20px;
            background: var(--bg);
            border: 1px solid var(--border);
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }

        .skill-tag.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
    </style>

    <!-- ===== CREATE OFFER VIEW (Fixed Full Screen Modal) ===== -->
    <div id="createOfferView" class="view"
        style="display: none; position: fixed; top: 0; left: 50%; transform: translateX(-50%); width: 100%; max-width: 480px; height: 100vh; background: var(--surface); z-index: 2000; flex-direction: column;">
        <header class="app-header"
            style="padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border); background: var(--surface); flex-shrink: 0;">
            <button onclick="app.cancelCreateOffer()"
                style="background: none; border: none; color: var(--text-primary); font-size: 16px; font-weight: 600; cursor: pointer;">Cancelar</button>
            <div style="font-weight: 700; font-size: 16px;">Nueva Oferta</div>
            <button onclick="app.saveOffer()"
                style="background: none; border: none; color: var(--primary); font-size: 16px; font-weight: 700; cursor: pointer;">Publicar</button>
        </header>
        <main class="app-content" style="padding: 24px; flex: 1; overflow-y: auto;">
            <div class="form-group">
                <label class="form-label">Cargo / Título</label>
                <input type="text" class="form-input" id="offerTitle" placeholder="Ej: Senior Frontend Developer">
                <small id="offerTitleError" class="error-text"
                    style="color: var(--danger); display: none; margin-top: 4px; font-size: 12px;">Este campo es
                    obligatorio</small>
            </div>
            <div class="form-group">
                <label class="form-label">Rango Salarial</label>
                <div style="display: flex; gap: 12px; margin-bottom: 12px; flex-wrap: wrap;">
                    <div style="flex: 1;">
                        <input type="text" class="form-input" id="offerSalaryMin" placeholder="Mínimo"
                            oninput="app.formatCurrency(this)">
                        <small id="offerSalaryMinError" class="error-text"
                            style="color: var(--danger); display: none; margin-top: 4px; font-size: 12px;">Requerido</small>
                    </div>
                    <div style="flex: 1;">
                        <input type="text" class="form-input" id="offerSalaryMax" placeholder="Máximo"
                            oninput="app.formatCurrency(this)">
                        <small id="offerSalaryMaxError" class="error-text"
                            style="color: var(--danger); display: none; margin-top: 4px; font-size: 12px;">Requerido</small>
                    </div>
                </div>
                <select class="form-input" id="offerCurrency">
                    <option value="$">CLP</option>
                    <option value="US$">USD</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Modalidad & Experiencia</label>
                <div style="display: flex; gap: 12px;">
                    <select class="form-input" id="offerModality" style="flex: 1;">
                        <option value="">Seleccionar...</option>
                        <option value="Remoto">Remoto</option>
                        <option value="Híbrido">Híbrido</option>
                        <option value="Presencial">Presencial</option>
                    </select>
                    <input type="number" class="form-input" id="offerExperience" placeholder="Años Exp."
                        style="width: 100px;">
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Título Profesional / Técnico Requerido</label>
                <input type="text" class="form-input" id="offerProfessionalTitle"
                    placeholder="Ej: Ingeniero Informático, Téc. Analista...">
                <small id="offerProfessionalTitleError" class="error-text"
                    style="color: var(--danger); display: none; margin-top: 4px; font-size: 12px;">Este campo es
                    obligatorio</small>
            </div>

            <div class="form-group">
                <label class="form-label">Habilidades Técnicas</label>
                <div onclick="app.openSkillsModal()" class="form-input" id="offerSkillsDisplay"
                    style="cursor: pointer; min-height: 52px; display: flex; align-items: center; flex-wrap: wrap; gap: 6px;">
                    <span style="color: var(--text-muted);">Seleccionar habilidades...</span>
                </div>
                <input type="hidden" id="offerSkills">
                <small id="offerSkillsError" class="error-text"
                    style="color: var(--danger); display: none; margin-top: 4px; font-size: 12px;">Selecciona al menos
                    una habilidad</small>
            </div>

            <div class="form-group">
                <label class="form-label">Descripción del Cargo</label>
                <textarea class="form-input" id="offerDescription" rows="6"
                    placeholder="Describe las responsabilidades, requisitos y beneficios..."></textarea>
            </div>

            <div class="form-group">
                <label class="form-label">Habilidades Blandas Requeridas</label>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
                    <label class="soft-skill-option"
                        style="padding: 10px; border: 1px solid var(--border); border-radius: 8px; font-size: 13px; display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" name="offerSoftSkills" value="Liderazgo"> Liderazgo
                    </label>
                    <label class="soft-skill-option"
                        style="padding: 10px; border: 1px solid var(--border); border-radius: 8px; font-size: 13px; display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" name="offerSoftSkills" value="Trabajo en equipo"> Trabajo en equipo
                    </label>
                    <label class="soft-skill-option"
                        style="padding: 10px; border: 1px solid var(--border); border-radius: 8px; font-size: 13px; display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" name="offerSoftSkills" value="Comunicación"> Comunicación
                    </label>
                    <label class="soft-skill-option"
                        style="padding: 10px; border: 1px solid var(--border); border-radius: 8px; font-size: 13px; display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" name="offerSoftSkills" value="Resolución"> Resolución
                    </label>
                </div>
            </div>
        </main>

        <!-- SKILLS MODAL -->
        <div id="skillsModal" class="skills-modal">
            <div class="skills-modal-content">
                <div style="padding: 16px 24px; border-bottom: 1px solid var(--border);">
                    <h3 style="margin: 0; font-size: 18px;">Seleccionar Habilidades</h3>
                </div>
                <div style="padding: 24px; overflow-y: auto;">
                    <input type="text" class="form-input" placeholder="Buscar habilidad..."
                        style="margin-bottom: 16px; padding: 12px;" onkeyup="app.filterSkills(this.value)">
                    <div id="skillsGrid" style="display: flex; flex-wrap: wrap; gap: 8px;">
                        <!-- Populated by JS -->
                    </div>
                </div>
                <div
                    style="padding: 16px 24px; border-top: 1px solid var(--border); display: flex; justify-content: flex-end;">
                    <button onclick="app.confirmSkills()" class="btn-primary"
                        style="margin-top: 0; width: auto; padding: 12px 24px;">Confirmar</button>
                </div>
            </div>
        </div>
    </div>
    </div><!-- End of app-container -->

    <!-- Company Profile Edit Modal -->
    <div class="company-modal-overlay" id="companyProfileModal"
        style="display: none !important; z-index: 10002; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center;">
        <div class="company-modal" onclick="event.stopPropagation()"
            style="background: var(--surface); width: 90%; max-width: 400px; border-radius: 16px; overflow: hidden; display: flex; flex-direction: column; max-height: 85vh; margin: auto;">
            <div class="company-modal-header"
                style="padding: 16px 24px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; flex-shrink: 0;">
                <h3 style="font-family: 'Sora', sans-serif; font-size: 18px; margin: 0; padding-right: 24px;">Editar
                    Perfil</h3>
                <button class="company-modal-close" onclick="app.closeCompanyProfile()"
                    style="background: none; border: none; cursor: pointer; padding: 4px;">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="company-modal-body"
                style="padding: 24px; overflow-y: auto; -webkit-overflow-scrolling: touch; flex: 1;">
                <div class="form-group">
                    <label class="form-label">Nombre de la Empresa</label>
                    <input type="text" class="form-input" id="cpName" placeholder="Ej: Tech Solutions">
                </div>
                <div class="form-group">
                    <label class="form-label">Industria / Sector</label>
                    <select class="form-input" id="cpIndustry">
                        <option value="Tecnología">Tecnología</option>
                        <option value="Fintech">Fintech</option>
                        <option value="Salud">Salud</option>
                        <option value="E-commerce">E-commerce</option>
                        <option value="Educación">Educación</option>
                        <option value="Otro">Otro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Logo de la Empresa</label>
                    <div style="display: flex; gap: 8px; align-items: center;">
                        <input type="file" id="cpLogoFile" accept="image/*" style="display: none;"
                            onchange="app.handleLogoUpload(this)">
                        <button class="btn-secondary" onclick="document.getElementById('cpLogoFile').click()"
                            style="width: auto; flex: 1;">Subir Imagen</button>
                        <div id="cpLogoPreview"
                            style="width: 40px; height: 40px; border-radius: 8px; background: #eee; background-size: cover; background-position: center; display: none;">
                        </div>
                    </div>
                    <input type="hidden" id="cpLogo"> <!-- Stores DataURL or URL -->
                </div>
                <div class="form-group">
                    <label class="form-label">Ubicación</label>
                    <input type="text" class="form-input" id="cpLocation" placeholder="Ej: Santiago, Remoto">
                </div>
                <div class="form-group">
                    <label class="form-label">Descripción</label>
                    <textarea class="form-input" id="cpDescription" rows="4"
                        placeholder="Breve descripción de la empresa y cultura..."></textarea>
                </div>
            </div>
            <div class="company-modal-footer"
                style="padding: 16px 24px; border-top: 1px solid var(--border); display: flex; gap: 12px; background: var(--surface); flex-shrink: 0;">
                <button class="btn-secondary" onclick="app.closeCompanyProfile()" style="flex: 1;">Cancelar</button>
                <button class="btn-primary" onclick="app.saveCompanyProfile()" style="flex: 1;">Guardar</button>
            </div>
        </div>
    </div>

    <!-- Match Modal -->
    <div class="company-modal-overlay" id="matchModal"
        style="display: none; z-index: 10003; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(4px); justify-content: center; align-items: center;">
        <div class="company-modal"
            style="background: transparent; width: 100%; max-width: 400px; display: flex; flex-direction: column; align-items: center; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);">
            <div
                style="font-family: 'Sora', sans-serif; font-size: 48px; font-weight: 800; color: #fff; text-shadow: 0 4px 10px rgba(0,0,0,0.3); margin-bottom: 20px; font-style: italic;">
                It's a Match!
            </div>

            <div style="font-size: 16px; color: rgba(255,255,255,0.9); margin-bottom: 40px; text-align: center;">
                Has conectado con <span id="matchCandidateName" style="font-weight: 700; color: #fff;"></span>
            </div>

            <div style="display: flex; gap: 20px; align-items: center; margin-bottom: 50px;">
                <!-- Company Avatar -->
                <div
                    style="width: 80px; height: 80px; border-radius: 50%; border: 4px solid #fff; overflow: hidden; background: #fff;">
                    <img id="matchCompanyLogo"
                        src="https://ui-avatars.com/api/?name=Talently&background=6c5ce7&color=fff"
                        style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <!-- Heart Icon -->
                <div
                    style="width: 40px; height: 40px; background: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 20px;">
                    ❤️
                </div>
                <!-- Candidate Avatar -->
                <div
                    style="width: 80px; height: 80px; border-radius: 50%; border: 4px solid #fff; overflow: hidden; background: #fff;">
                    <img id="matchCandidateImage" src="" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
            </div>

            <div style="display: flex; flex-direction: column; gap: 16px; width: 80%;">
                <button class="btn-primary" onclick="app.startChatFromMatch()"
                    style="width: 100%; padding: 16px; font-size: 16px; border-radius: 30px; box-shadow: 0 4px 15px rgba(108, 92, 231, 0.4);">
                    Enviar mensaje
                </button>
                <button onclick="app.closeMatchModal()"
                    style="width: 100%; padding: 16px; font-size: 16px; border-radius: 30px; background: rgba(255,255,255,0.2); color: #fff; border: 1px solid rgba(255,255,255,0.3); cursor: pointer;">
                    Seguir explorando
                </button>
            </div>
        </div>
    </div>

    </div>



    <!-- Delete Confirmation Modal -->
    <div class="company-modal-overlay" id="deleteConfirmModal"
        style="display: none; z-index: 10005; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); align-items: center; justify-content: center;">
        <div class="company-modal"
            style="background: var(--surface); width: 90%; max-width: 320px; border-radius: 20px; padding: 24px; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
            <div
                style="width: 60px; height: 60px; background: #FFF0F0; color: var(--danger); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 16px auto;">
                🗑️
            </div>
            <h3 style="margin: 0 0 8px 0; font-size: 18px; color: var(--text-primary);">¿Eliminar oferta?</h3>
            <p style="margin: 0 0 24px 0; color: var(--text-secondary); font-size: 14px;">Esta acción no se puede
                deshacer.</p>
            <div style="display: flex; gap: 12px;">
                <button onclick="app.closeDeleteModal()"
                    style="flex: 1; padding: 12px; border: 1px solid var(--border); background: var(--surface); color: var(--text-primary); border-radius: 12px; cursor: pointer; font-weight: 600;">Cancelar</button>
                <button onclick="app.confirmDeleteOffer()"
                    style="flex: 1; padding: 12px; border: none; background: var(--danger); color: white; border-radius: 12px; cursor: pointer; font-weight: 600;">Eliminar</button>
            </div>
        </div>
    </div>

    <!-- CRITICAL INLINE CSS TO FIX BOTTOM NAV (STYLES.CSS IS UNRELIABLE) -->
    <style>
        /* FIX: Hide bottom nav when in chat mode to prevent overlap */
        body.chat-mode .bottom-nav {
            display: none !important;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
        }
    </style>

    <!-- EDIT PERSONAL INFO MODAL -->
    <div id="editPersonalModal" class="modal-overlay">
        <div class="modal-content" style="max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3>Editar Información Personal</h3>
                <button class="close-modal" onclick="app.closeEditPersonal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Nombre Completo</label>
                    <input type="text" id="editName" class="form-input" placeholder="Tu nombre">
                </div>
                <div class="form-group">
                    <label class="form-label">Cargo Actual</label>
                    <input type="text" id="editPosition" class="form-input" placeholder="Ej: Product Designer">
                </div>

                <div class="form-group-row">
                    <div class="form-group">
                        <label class="form-label">País</label>
                        <select id="editCountry" class="form-select"
                            onchange="app.updateCities('editCountry', 'editCity')">
                            <!-- Populated by JS -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ciudad</label>
                        <select id="editCity" class="form-select" disabled>
                            <!-- Populated by JS -->
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Pretensión Salarial</label>
                    <div class="salary-input-group">
                        <span class="currency-symbol">$</span>
                        <input type="text" id="editSalary" class="form-input" placeholder="0"
                            onkeyup="app.formatCurrency(this)">
                        <select id="editCurrency" class="currency-select" style="width: 80px;">
                            <option value="CLP">CLP</option>
                            <option value="USD">USD</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Modalidad Preferida</label>
                    <select id="editModality" class="form-select">
                        <option value="Remoto">Remoto</option>
                        <option value="Híbrido">Híbrido</option>
                        <option value="Presencial">Presencial</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Bio / Sobre mí</label>
                    <textarea id="editBio" class="form-textarea" rows="4"
                        placeholder="Cuéntanos un poco sobre ti..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="app.closeEditPersonal()">Cancelar</button>
                <button class="btn-primary" onclick="app.saveEditPersonal()">Guardar Cambios</button>
            </div>
        </div>
    </div>

    <!-- EDIT SKILLS MODAL -->
    <div id="editSkillsModal" class="modal-overlay">
        <div class="modal-content" style="max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3>Editar Habilidades</h3>
                <button class="close-modal" onclick="app.closeEditSkills()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Habilidades Seleccionadas (Máx 10)</label>
                    <div id="editSkillsSelected" class="skills-selected-container"
                        style="min-height: 50px; padding: 10px; border: 1px solid var(--border); border-radius: 8px; display: flex; flex-wrap: wrap; gap: 8px;">
                        <!-- Selected chips go here -->
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Agregar Habilidades por Área</label>
                    <select id="editSkillsArea" class="form-select" onchange="app.renderEditSkillsBubbles()">
                        <option value="desarrollo">Desarrollo de Software</option>
                        <option value="diseno-ux">Diseño UX/UI</option>
                        <option value="producto">Producto</option>
                        <option value="marketing">Marketing</option>
                        <option value="data">Data & Analytics</option>
                        <option value="ventas">Ventas</option>
                        <option value="rrhh">Recursos Humanos</option>
                        <option value="finanzas">Finanzas</option>
                        <option value="other">Otros</option>
                    </select>
                </div>

                <div id="editSkillsBubbles" class="skills-bubble-container"
                    style="max-height: 200px; overflow-y: auto;">
                    <!-- Bubbles loaded here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="app.closeEditSkills()">Cancelar</button>
                <button class="btn-primary" onclick="app.saveEditSkills()">Guardar Cambios</button>
            </div>
        </div>
    </div>

    <!-- EDIT EXPERIENCE MODAL -->
    <div id="editExperienceModal" class="modal-overlay">
        <div class="modal-content" style="max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3 id="expModalTitle">Agregar Experiencia</h3>
                <button class="close-modal" onclick="app.closeEditExperience()">&times;</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="expIndex"> <!-- Index for editing, empty for new -->
                <div class="form-group">
                    <label class="form-label">Cargo / Rol</label>
                    <input type="text" id="expRole" class="form-input" placeholder="Ej: Senior Designer">
                </div>
                <div class="form-group">
                    <label class="form-label">Empresa</label>
                    <input type="text" id="expCompany" class="form-input" placeholder="Ej: Tech Corp">
                </div>
                <div class="form-group">
                    <label class="form-label">Período</label>
                    <input type="text" id="expPeriod" class="form-input" placeholder="Ej: 2020 - Presente">
                </div>
                <!-- Description omitted for simplicity as per user prompt mainly asked for basic replacement, but useful to have -->
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="app.closeEditExperience()">Cancelar</button>
                <button class="btn-primary" onclick="app.saveExperience()">Guardar</button>
            </div>
        </div>
    </div>

    <!-- EDIT EDUCATION MODAL -->
    <div id="editEducationModal" class="modal-overlay">
        <div class="modal-content" style="max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3 id="eduModalTitle">Agregar Educación</h3>
                <button class="close-modal" onclick="app.closeEditEducation()">&times;</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="eduIndex">
                <div class="form-group">
                    <label class="form-label">Título / Carrera</label>
                    <input type="text" id="eduDegree" class="form-input" placeholder="Ej: Ingeniería Civil">
                </div>
                <div class="form-group">
                    <label class="form-label">Institución</label>
                    <input type="text" id="eduSchool" class="form-input" placeholder="Ej: Universidad de Chile">
                </div>
                <div class="form-group">
                    <label class="form-label">Período</label>
                    <input type="text" id="eduPeriod" class="form-input" placeholder="Ej: 2015 - 2020">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="app.closeEditEducation()">Cancelar</button>
                <button class="btn-primary" onclick="app.saveEducation()">Guardar</button>
            </div>
        </div>
    </div>

    <script src="js/supabase-client.js"></script>
    <script src="js/data.js?v=v57"></script>
    <script src="js/app_fixed.js"></script>
    <script>
        // FORCE UNREGISTER SERVICE WORKER TO FIX CACHING ISSUES
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function (registrations) {
                for (let registration of registrations) {
                    registration.unregister();
                    console.log('ServiceWorker Unregistered');
                }
            });
            // Also try to clear cache
            if (window.caches) {
                caches.keys().then(function (names) {
                    for (let name of names) caches.delete(name);
                });
            }
        }
    </script>
</body>

</html>
```